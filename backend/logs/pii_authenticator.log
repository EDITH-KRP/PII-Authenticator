2025-04-16 12:18:21 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:18:22 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:18:22 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:18:22 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:18:23 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:18:56 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:18:56 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:18:56 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:18:56 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:18:57 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:18:58 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:18:58 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:18:58 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:18:58 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:18:59 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:24:58 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:24:59 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:24:59 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:24:59 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:24:59 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:25:00 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:25:01 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:25:01 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:25:01 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:25:01 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:26:43 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:26:43 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:26:43 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:26:43 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:26:43 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:26:45 [DEBUG] app.after_request:34 - Request 2bf87542bdd6f297 processed in 0.0002 seconds
2025-04-16 12:27:33 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:27:33 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:27:33 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:27:33 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:27:33 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:27:36 [DEBUG] app.after_request:34 - Request 7caf796de4b90224 processed in 0.0001 seconds
2025-04-16 12:28:28 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user
2025-04-16 12:28:28 [DEBUG] token_auth.generate_unique_token:14 - Generated token: YC91QOYUNE
2025-04-16 12:28:28 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: YC91QOYUNE
2025-04-16 12:28:28 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: YC91QOYUNE
2025-04-16 12:28:29 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:28:29 [DEBUG] token_auth.get_or_generate_token:38 - Token YC91QOYUNE is unique (verified after 1 attempts)
2025-04-16 12:28:29 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: YC91QOYUNE
2025-04-16 12:28:29 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: YC91QOYUNE
2025-04-16 12:28:29 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:28:29 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:28:29 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:28:29 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token YC91QOYUNE on blockchain for user test_user
2025-04-16 12:28:29 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 1.1564 seconds
2025-04-16 12:28:29 [INFO] w3_utils.upload_to_filebase:140 - Uploading file YC91QOYUNE.txt to storage...
2025-04-16 12:28:30 [INFO] .None:0 - ACCESS: /encrypt | User: test_user | Token: YC91QOYUNE | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/YC91QOYUNE.txt
2025-04-16 12:28:30 [DEBUG] app.after_request:34 - Request cf2ebfaf2b0366a4 processed in 2.3562 seconds
2025-04-16 12:29:21 [INFO] token_auth.verify_token:67 - Verifying token: YC91QOYUNE
2025-04-16 12:29:21 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: YC91QOYUNE
2025-04-16 12:29:21 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: YC91QOYUNE
2025-04-16 12:29:22 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:29:22 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6926 seconds
2025-04-16 12:29:22 [INFO] token_auth.verify_token:79 - Token YC91QOYUNE is invalid
2025-04-16 12:29:22 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: YC91QOYUNE | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:29:22 [DEBUG] app.after_request:34 - Request 9150cddd5b7bd155 processed in 0.6932 seconds
2025-04-16 12:29:38 [DEBUG] app.after_request:34 - Request 12ea336a65e11d6e processed in 0.0001 seconds
2025-04-16 12:29:38 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744786778
2025-04-16 12:29:38 [DEBUG] token_auth.generate_unique_token:14 - Generated token: RZHUZQNM0Q
2025-04-16 12:29:38 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: RZHUZQNM0Q
2025-04-16 12:29:38 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: RZHUZQNM0Q
2025-04-16 12:29:39 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:29:39 [DEBUG] token_auth.get_or_generate_token:38 - Token RZHUZQNM0Q is unique (verified after 1 attempts)
2025-04-16 12:29:39 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: RZHUZQNM0Q
2025-04-16 12:29:39 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: RZHUZQNM0Q
2025-04-16 12:29:39 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:29:39 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:29:39 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:29:39 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token RZHUZQNM0Q on blockchain for user test_user_1744786778
2025-04-16 12:29:39 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9250 seconds
2025-04-16 12:29:39 [INFO] w3_utils.upload_to_filebase:140 - Uploading file RZHUZQNM0Q.txt to storage...
2025-04-16 12:29:40 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744786778 | Token: RZHUZQNM0Q | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/RZHUZQNM0Q.txt
2025-04-16 12:29:40 [DEBUG] app.after_request:34 - Request 30e33a25248f7d0e processed in 1.7337 seconds
2025-04-16 12:29:40 [INFO] token_auth.verify_token:67 - Verifying token: RZHUZQNM0Q
2025-04-16 12:29:40 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: RZHUZQNM0Q
2025-04-16 12:29:40 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: RZHUZQNM0Q
2025-04-16 12:29:40 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:29:40 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6680 seconds
2025-04-16 12:29:40 [INFO] token_auth.verify_token:79 - Token RZHUZQNM0Q is invalid
2025-04-16 12:29:40 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: RZHUZQNM0Q | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:29:40 [DEBUG] app.after_request:34 - Request 861a7b828e50a8b1 processed in 0.6692 seconds
2025-04-16 12:29:40 [INFO] token_auth.verify_token:67 - Verifying token: INVALID123
2025-04-16 12:29:40 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: INVALID123
2025-04-16 12:29:40 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: INVALID123
2025-04-16 12:29:41 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:29:41 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7020 seconds
2025-04-16 12:29:41 [INFO] token_auth.verify_token:79 - Token INVALID123 is invalid
2025-04-16 12:29:41 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: INVALID123 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:29:41 [DEBUG] app.after_request:34 - Request c19281cdb9908f6e processed in 0.7023 seconds
2025-04-16 12:29:41 [INFO] .None:0 - ACCESS: /encrypt | User: N/A | Token: N/A | IP: 127.0.0.1 | Status: failure | Details: Missing fields
2025-04-16 12:29:41 [DEBUG] app.after_request:34 - Request c6c24e99e634f8f6 processed in 0.0009 seconds
2025-04-16 12:29:41 [INFO] .None:0 - ACCESS: /encrypt | User: test_user | Token: N/A | IP: 127.0.0.1 | Status: failure | Details: Missing fields
2025-04-16 12:29:41 [DEBUG] app.after_request:34 - Request 2c96b763bbaf1afc processed in 0.0002 seconds
2025-04-16 12:29:41 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: N/A | IP: 127.0.0.1 | Status: failure | Details: Token required
2025-04-16 12:29:41 [DEBUG] app.after_request:34 - Request d854ae05d45109d5 processed in 0.0002 seconds
2025-04-16 12:36:17 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787177685
2025-04-16 12:36:17 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787177685
2025-04-16 12:36:17 [DEBUG] token_auth.generate_unique_token:14 - Generated token: Q6MI5WMMRD
2025-04-16 12:36:17 [DEBUG] token_auth.generate_unique_token:14 - Generated token: XKD2X7DIL4
2025-04-16 12:36:17 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: Q6MI5WMMRD
2025-04-16 12:36:17 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: XKD2X7DIL4
2025-04-16 12:36:17 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: Q6MI5WMMRD
2025-04-16 12:36:17 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: XKD2X7DIL4
2025-04-16 12:36:18 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:18 [DEBUG] token_auth.get_or_generate_token:38 - Token XKD2X7DIL4 is unique (verified after 1 attempts)
2025-04-16 12:36:18 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: XKD2X7DIL4
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: XKD2X7DIL4
2025-04-16 12:36:18 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:18 [DEBUG] token_auth.get_or_generate_token:38 - Token Q6MI5WMMRD is unique (verified after 1 attempts)
2025-04-16 12:36:18 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: Q6MI5WMMRD
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: Q6MI5WMMRD
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:18 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token XKD2X7DIL4 on blockchain for user test_user_1744787177685
2025-04-16 12:36:18 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 1.0749 seconds
2025-04-16 12:36:18 [INFO] w3_utils.upload_to_filebase:140 - Uploading file XKD2X7DIL4.txt to storage...
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:18 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:18 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token Q6MI5WMMRD on blockchain for user test_user_1744787177685
2025-04-16 12:36:18 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 1.0930 seconds
2025-04-16 12:36:18 [INFO] w3_utils.upload_to_filebase:140 - Uploading file Q6MI5WMMRD.txt to storage...
2025-04-16 12:36:19 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787177685 | Token: Q6MI5WMMRD | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/Q6MI5WMMRD.txt
2025-04-16 12:36:19 [DEBUG] app.after_request:34 - Request 6302332026b03878 processed in 2.1479 seconds
2025-04-16 12:36:19 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787179875
2025-04-16 12:36:19 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 4Z6YTCIAG3
2025-04-16 12:36:19 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 4Z6YTCIAG3
2025-04-16 12:36:19 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 4Z6YTCIAG3
2025-04-16 12:36:20 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787177685 | Token: XKD2X7DIL4 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/XKD2X7DIL4.txt
2025-04-16 12:36:20 [DEBUG] app.after_request:34 - Request 370c93c329883812 processed in 2.7986 seconds
2025-04-16 12:36:20 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787180536
2025-04-16 12:36:20 [DEBUG] token_auth.generate_unique_token:14 - Generated token: O9NY11T91J
2025-04-16 12:36:20 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: O9NY11T91J
2025-04-16 12:36:20 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: O9NY11T91J
2025-04-16 12:36:20 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:20 [DEBUG] token_auth.get_or_generate_token:38 - Token 4Z6YTCIAG3 is unique (verified after 1 attempts)
2025-04-16 12:36:20 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 4Z6YTCIAG3
2025-04-16 12:36:20 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 4Z6YTCIAG3
2025-04-16 12:36:20 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:20 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:20 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:20 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 4Z6YTCIAG3 on blockchain for user test_user_1744787179875
2025-04-16 12:36:20 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9016 seconds
2025-04-16 12:36:20 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 4Z6YTCIAG3.txt to storage...
2025-04-16 12:36:21 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:21 [DEBUG] token_auth.get_or_generate_token:38 - Token O9NY11T91J is unique (verified after 1 attempts)
2025-04-16 12:36:21 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: O9NY11T91J
2025-04-16 12:36:21 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: O9NY11T91J
2025-04-16 12:36:21 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787179875 | Token: 4Z6YTCIAG3 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/4Z6YTCIAG3.txt
2025-04-16 12:36:21 [DEBUG] app.after_request:34 - Request ff62f9bcddcf2225 processed in 1.4972 seconds
2025-04-16 12:36:21 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787181400
2025-04-16 12:36:21 [DEBUG] token_auth.generate_unique_token:14 - Generated token: XZDXYY4M4P
2025-04-16 12:36:21 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: XZDXYY4M4P
2025-04-16 12:36:21 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: XZDXYY4M4P
2025-04-16 12:36:21 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:21 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:21 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:21 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token O9NY11T91J on blockchain for user test_user_1744787180536
2025-04-16 12:36:21 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 1.0130 seconds
2025-04-16 12:36:21 [INFO] w3_utils.upload_to_filebase:140 - Uploading file O9NY11T91J.txt to storage...
2025-04-16 12:36:22 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:22 [DEBUG] token_auth.get_or_generate_token:38 - Token XZDXYY4M4P is unique (verified after 1 attempts)
2025-04-16 12:36:22 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: XZDXYY4M4P
2025-04-16 12:36:22 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: XZDXYY4M4P
2025-04-16 12:36:22 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787180536 | Token: O9NY11T91J | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/O9NY11T91J.txt
2025-04-16 12:36:22 [DEBUG] app.after_request:34 - Request 9d96e6156da141ef processed in 1.6179 seconds
2025-04-16 12:36:22 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:22 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:22 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:22 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token XZDXYY4M4P on blockchain for user test_user_1744787181400
2025-04-16 12:36:22 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9343 seconds
2025-04-16 12:36:22 [INFO] w3_utils.upload_to_filebase:140 - Uploading file XZDXYY4M4P.txt to storage...
2025-04-16 12:36:22 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787181400 | Token: XZDXYY4M4P | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/XZDXYY4M4P.txt
2025-04-16 12:36:22 [DEBUG] app.after_request:34 - Request 0f176179d56fd63f processed in 1.5080 seconds
2025-04-16 12:36:23 [INFO] token_auth.verify_token:67 - Verifying token: INVALID1744787183183
2025-04-16 12:36:23 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: INVALID1744787183183
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: INVALID1744787183183
2025-04-16 12:36:23 [INFO] token_auth.verify_token:67 - Verifying token: Q6MI5WMMRD
2025-04-16 12:36:23 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: Q6MI5WMMRD
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: Q6MI5WMMRD
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:23 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6509 seconds
2025-04-16 12:36:23 [INFO] token_auth.verify_token:79 - Token Q6MI5WMMRD is invalid
2025-04-16 12:36:23 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: Q6MI5WMMRD | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:23 [DEBUG] app.after_request:34 - Request 418c3a86c3e6fe92 processed in 0.6514 seconds
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:23 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6784 seconds
2025-04-16 12:36:23 [INFO] token_auth.verify_token:79 - Token INVALID1744787183183 is invalid
2025-04-16 12:36:23 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: INVALID1744787183183 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:23 [DEBUG] app.after_request:34 - Request 300ef4a9d85fdeaf processed in 0.6790 seconds
2025-04-16 12:36:23 [INFO] token_auth.verify_token:67 - Verifying token: INVALID1744787183855
2025-04-16 12:36:23 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: INVALID1744787183855
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: INVALID1744787183855
2025-04-16 12:36:23 [INFO] token_auth.verify_token:67 - Verifying token: O9NY11T91J
2025-04-16 12:36:23 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: O9NY11T91J
2025-04-16 12:36:23 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: O9NY11T91J
2025-04-16 12:36:24 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:24 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6567 seconds
2025-04-16 12:36:24 [INFO] token_auth.verify_token:79 - Token INVALID1744787183855 is invalid
2025-04-16 12:36:24 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: INVALID1744787183855 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:24 [DEBUG] app.after_request:34 - Request a7d67a83e687fb9d processed in 0.6573 seconds
2025-04-16 12:36:24 [INFO] token_auth.verify_token:67 - Verifying token: XKD2X7DIL4
2025-04-16 12:36:24 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: XKD2X7DIL4
2025-04-16 12:36:24 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: XKD2X7DIL4
2025-04-16 12:36:24 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:24 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7004 seconds
2025-04-16 12:36:24 [INFO] token_auth.verify_token:79 - Token O9NY11T91J is invalid
2025-04-16 12:36:24 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: O9NY11T91J | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:24 [DEBUG] app.after_request:34 - Request df01f1d64cd7d499 processed in 0.7008 seconds
2025-04-16 12:36:25 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:25 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6866 seconds
2025-04-16 12:36:25 [INFO] token_auth.verify_token:79 - Token XKD2X7DIL4 is invalid
2025-04-16 12:36:25 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: XKD2X7DIL4 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:25 [DEBUG] app.after_request:34 - Request 6b2becaad32708c9 processed in 0.6870 seconds
2025-04-16 12:36:51 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787211851
2025-04-16 12:36:51 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 85OXRI2605
2025-04-16 12:36:51 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787211852
2025-04-16 12:36:51 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 85OXRI2605
2025-04-16 12:36:51 [DEBUG] token_auth.generate_unique_token:14 - Generated token: BQ3FXGQGIM
2025-04-16 12:36:51 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 85OXRI2605
2025-04-16 12:36:51 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: BQ3FXGQGIM
2025-04-16 12:36:51 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: BQ3FXGQGIM
2025-04-16 12:36:51 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787211852
2025-04-16 12:36:51 [DEBUG] token_auth.generate_unique_token:14 - Generated token: R1ZL9K8OAS
2025-04-16 12:36:51 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: R1ZL9K8OAS
2025-04-16 12:36:51 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: R1ZL9K8OAS
2025-04-16 12:36:52 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:38 - Token 85OXRI2605 is unique (verified after 1 attempts)
2025-04-16 12:36:52 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 85OXRI2605
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 85OXRI2605
2025-04-16 12:36:52 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:38 - Token R1ZL9K8OAS is unique (verified after 1 attempts)
2025-04-16 12:36:52 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: R1ZL9K8OAS
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: R1ZL9K8OAS
2025-04-16 12:36:52 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:38 - Token BQ3FXGQGIM is unique (verified after 1 attempts)
2025-04-16 12:36:52 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: BQ3FXGQGIM
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: BQ3FXGQGIM
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:52 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token BQ3FXGQGIM on blockchain for user test_user_1744787211852
2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9307 seconds
2025-04-16 12:36:52 [INFO] w3_utils.upload_to_filebase:140 - Uploading file BQ3FXGQGIM.txt to storage...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:52 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 85OXRI2605 on blockchain for user test_user_1744787211851
2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9474 seconds
2025-04-16 12:36:52 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 85OXRI2605.txt to storage...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:52 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:52 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token R1ZL9K8OAS on blockchain for user test_user_1744787211852
2025-04-16 12:36:52 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9647 seconds
2025-04-16 12:36:52 [INFO] w3_utils.upload_to_filebase:140 - Uploading file R1ZL9K8OAS.txt to storage...
2025-04-16 12:36:53 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787211852 | Token: BQ3FXGQGIM | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/BQ3FXGQGIM.txt
2025-04-16 12:36:53 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787211851 | Token: 85OXRI2605 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/85OXRI2605.txt
2025-04-16 12:36:53 [DEBUG] app.after_request:34 - Request bee98575fa786559 processed in 1.5794 seconds
2025-04-16 12:36:53 [DEBUG] app.after_request:34 - Request 1724a372e48dd018 processed in 1.5804 seconds
2025-04-16 12:36:53 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787213438
2025-04-16 12:36:53 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 14QASR890L
2025-04-16 12:36:53 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 14QASR890L
2025-04-16 12:36:53 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 14QASR890L
2025-04-16 12:36:53 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787213438
2025-04-16 12:36:53 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 88IO9WR8AU
2025-04-16 12:36:53 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 88IO9WR8AU
2025-04-16 12:36:53 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 88IO9WR8AU
2025-04-16 12:36:54 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787211852 | Token: R1ZL9K8OAS | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/R1ZL9K8OAS.txt
2025-04-16 12:36:54 [DEBUG] app.after_request:34 - Request 6958285b0fcc807c processed in 2.1682 seconds
2025-04-16 12:36:54 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787214050
2025-04-16 12:36:54 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 4MJPW1N9MF
2025-04-16 12:36:54 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 4MJPW1N9MF
2025-04-16 12:36:54 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 4MJPW1N9MF
2025-04-16 12:36:54 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:38 - Token 14QASR890L is unique (verified after 1 attempts)
2025-04-16 12:36:54 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 14QASR890L
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 14QASR890L
2025-04-16 12:36:54 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:38 - Token 88IO9WR8AU is unique (verified after 1 attempts)
2025-04-16 12:36:54 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 88IO9WR8AU
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 88IO9WR8AU
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:54 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 88IO9WR8AU on blockchain for user test_user_1744787213438
2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9396 seconds
2025-04-16 12:36:54 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 88IO9WR8AU.txt to storage...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:54 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 14QASR890L on blockchain for user test_user_1744787213438
2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9610 seconds
2025-04-16 12:36:54 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 14QASR890L.txt to storage...
2025-04-16 12:36:54 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:38 - Token 4MJPW1N9MF is unique (verified after 1 attempts)
2025-04-16 12:36:54 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 4MJPW1N9MF
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 4MJPW1N9MF
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:54 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:54 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 4MJPW1N9MF on blockchain for user test_user_1744787214050
2025-04-16 12:36:54 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.8922 seconds
2025-04-16 12:36:54 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 4MJPW1N9MF.txt to storage...
2025-04-16 12:36:54 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787213438 | Token: 88IO9WR8AU | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/88IO9WR8AU.txt
2025-04-16 12:36:54 [DEBUG] app.after_request:34 - Request 31eb64d36f010a8b processed in 1.5329 seconds
2025-04-16 12:36:54 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787213438 | Token: 14QASR890L | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/14QASR890L.txt
2025-04-16 12:36:54 [DEBUG] app.after_request:34 - Request 12e408bad7f3accc processed in 1.5513 seconds
2025-04-16 12:36:55 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787214978
2025-04-16 12:36:55 [DEBUG] token_auth.generate_unique_token:14 - Generated token: W4V6QRFO1O
2025-04-16 12:36:55 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: W4V6QRFO1O
2025-04-16 12:36:55 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: W4V6QRFO1O
2025-04-16 12:36:55 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787214995
2025-04-16 12:36:55 [DEBUG] token_auth.generate_unique_token:14 - Generated token: CW4WD7W81F
2025-04-16 12:36:55 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: CW4WD7W81F
2025-04-16 12:36:55 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: CW4WD7W81F
2025-04-16 12:36:55 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787214050 | Token: 4MJPW1N9MF | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/4MJPW1N9MF.txt
2025-04-16 12:36:55 [DEBUG] app.after_request:34 - Request 902606fd40f7feea processed in 1.3800 seconds
2025-04-16 12:36:55 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787215453
2025-04-16 12:36:55 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 6HRV098TDA
2025-04-16 12:36:55 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 6HRV098TDA
2025-04-16 12:36:55 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 6HRV098TDA
2025-04-16 12:36:55 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:55 [DEBUG] token_auth.get_or_generate_token:38 - Token CW4WD7W81F is unique (verified after 1 attempts)
2025-04-16 12:36:55 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: CW4WD7W81F
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: CW4WD7W81F
2025-04-16 12:36:55 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:55 [DEBUG] token_auth.get_or_generate_token:38 - Token W4V6QRFO1O is unique (verified after 1 attempts)
2025-04-16 12:36:55 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: W4V6QRFO1O
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: W4V6QRFO1O
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:55 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token CW4WD7W81F on blockchain for user test_user_1744787214995
2025-04-16 12:36:55 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9240 seconds
2025-04-16 12:36:55 [INFO] w3_utils.upload_to_filebase:140 - Uploading file CW4WD7W81F.txt to storage...
2025-04-16 12:36:55 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:55 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token W4V6QRFO1O on blockchain for user test_user_1744787214978
2025-04-16 12:36:55 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9430 seconds
2025-04-16 12:36:55 [INFO] w3_utils.upload_to_filebase:140 - Uploading file W4V6QRFO1O.txt to storage...
2025-04-16 12:36:56 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:56 [DEBUG] token_auth.get_or_generate_token:38 - Token 6HRV098TDA is unique (verified after 1 attempts)
2025-04-16 12:36:56 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 6HRV098TDA
2025-04-16 12:36:56 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 6HRV098TDA
2025-04-16 12:36:56 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:56 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:56 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:56 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 6HRV098TDA on blockchain for user test_user_1744787215453
2025-04-16 12:36:56 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9378 seconds
2025-04-16 12:36:56 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 6HRV098TDA.txt to storage...
2025-04-16 12:36:56 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787214978 | Token: W4V6QRFO1O | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/W4V6QRFO1O.txt
2025-04-16 12:36:56 [DEBUG] app.after_request:34 - Request b27e1e552efdedc8 processed in 1.5221 seconds
2025-04-16 12:36:56 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787214995 | Token: CW4WD7W81F | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/CW4WD7W81F.txt
2025-04-16 12:36:56 [DEBUG] app.after_request:34 - Request 33ab596de2406374 processed in 1.5121 seconds
2025-04-16 12:36:56 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: test_user_1744787216526
2025-04-16 12:36:56 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 2JYR34CV9W
2025-04-16 12:36:56 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 2JYR34CV9W
2025-04-16 12:36:56 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 2JYR34CV9W
2025-04-16 12:36:57 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787215453 | Token: 6HRV098TDA | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/6HRV098TDA.txt
2025-04-16 12:36:57 [DEBUG] app.after_request:34 - Request 87631989c79c9006 processed in 1.5424 seconds
2025-04-16 12:36:57 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:57 [DEBUG] token_auth.get_or_generate_token:38 - Token 2JYR34CV9W is unique (verified after 1 attempts)
2025-04-16 12:36:57 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: 2JYR34CV9W
2025-04-16 12:36:57 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: 2JYR34CV9W
2025-04-16 12:36:57 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:36:57 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:36:57 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.rawTransaction)
                                            ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SignedTransaction' object has no attribute 'rawTransaction'. Did you mean: 'raw_transaction'?

2025-04-16 12:36:57 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token 2JYR34CV9W on blockchain for user test_user_1744787216526
2025-04-16 12:36:57 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 0.9259 seconds
2025-04-16 12:36:57 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 2JYR34CV9W.txt to storage...
2025-04-16 12:36:58 [INFO] .None:0 - ACCESS: /encrypt | User: test_user_1744787216526 | Token: 2JYR34CV9W | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/2JYR34CV9W.txt
2025-04-16 12:36:58 [DEBUG] app.after_request:34 - Request 43eca6854af465ae processed in 1.5312 seconds
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: BQ3FXGQGIM
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: BQ3FXGQGIM
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: BQ3FXGQGIM
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: 14QASR890L
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 14QASR890L
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 14QASR890L
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: INVALID1744787218105
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: INVALID1744787218105
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: INVALID1744787218105
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:58 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6438 seconds
2025-04-16 12:36:58 [INFO] token_auth.verify_token:79 - Token INVALID1744787218105 is invalid
2025-04-16 12:36:58 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: INVALID1744787218105 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:58 [DEBUG] app.after_request:34 - Request 9b5b67458d91e1df processed in 0.6443 seconds
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:58 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6650 seconds
2025-04-16 12:36:58 [INFO] token_auth.verify_token:79 - Token 14QASR890L is invalid
2025-04-16 12:36:58 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 14QASR890L | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:58 [DEBUG] app.after_request:34 - Request 0dafc66b5603300d processed in 0.6655 seconds
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:58 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6732 seconds
2025-04-16 12:36:58 [INFO] token_auth.verify_token:79 - Token BQ3FXGQGIM is invalid
2025-04-16 12:36:58 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BQ3FXGQGIM | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:58 [DEBUG] app.after_request:34 - Request 6aa1f06b1de6bc1d processed in 0.6737 seconds
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: INVALID1744787218764
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: INVALID1744787218764
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: INVALID1744787218764
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: 2JYR34CV9W
2025-04-16 12:36:58 [INFO] token_auth.verify_token:67 - Verifying token: 85OXRI2605
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 2JYR34CV9W
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 2JYR34CV9W
2025-04-16 12:36:58 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 85OXRI2605
2025-04-16 12:36:58 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 85OXRI2605
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:59 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7009 seconds
2025-04-16 12:36:59 [INFO] token_auth.verify_token:79 - Token INVALID1744787218764 is invalid
2025-04-16 12:36:59 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: INVALID1744787218764 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:59 [DEBUG] app.after_request:34 - Request 15e796e6dd14c562 processed in 0.7016 seconds
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:59 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6895 seconds
2025-04-16 12:36:59 [INFO] token_auth.verify_token:79 - Token 85OXRI2605 is invalid
2025-04-16 12:36:59 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 85OXRI2605 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:59 [DEBUG] app.after_request:34 - Request e120ec353897bf0e processed in 0.6932 seconds
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:36:59 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6983 seconds
2025-04-16 12:36:59 [INFO] token_auth.verify_token:79 - Token 2JYR34CV9W is invalid
2025-04-16 12:36:59 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 2JYR34CV9W | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:36:59 [DEBUG] app.after_request:34 - Request 81f194c9269d60b4 processed in 0.6994 seconds
2025-04-16 12:36:59 [INFO] token_auth.verify_token:67 - Verifying token: W4V6QRFO1O
2025-04-16 12:36:59 [INFO] token_auth.verify_token:67 - Verifying token: 6HRV098TDA
2025-04-16 12:36:59 [INFO] token_auth.verify_token:67 - Verifying token: 2JYR34CV9W
2025-04-16 12:36:59 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: W4V6QRFO1O
2025-04-16 12:36:59 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 6HRV098TDA
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: W4V6QRFO1O
2025-04-16 12:36:59 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: 2JYR34CV9W
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 6HRV098TDA
2025-04-16 12:36:59 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: 2JYR34CV9W
2025-04-16 12:37:00 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:37:00 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6874 seconds
2025-04-16 12:37:00 [INFO] token_auth.verify_token:79 - Token W4V6QRFO1O is invalid
2025-04-16 12:37:00 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: W4V6QRFO1O | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:37:00 [DEBUG] app.after_request:34 - Request b172d1ade8001ae1 processed in 0.6887 seconds
2025-04-16 12:37:00 [INFO] token_auth.verify_token:67 - Verifying token: BQ3FXGQGIM
2025-04-16 12:37:00 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: BQ3FXGQGIM
2025-04-16 12:37:00 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: BQ3FXGQGIM
2025-04-16 12:37:00 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:37:00 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.6990 seconds
2025-04-16 12:37:00 [INFO] token_auth.verify_token:79 - Token 2JYR34CV9W is invalid
2025-04-16 12:37:00 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 2JYR34CV9W | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:37:00 [DEBUG] app.after_request:34 - Request b5e3e404cd8e0a4a processed in 0.6997 seconds
2025-04-16 12:37:00 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:37:00 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7066 seconds
2025-04-16 12:37:00 [INFO] token_auth.verify_token:79 - Token 6HRV098TDA is invalid
2025-04-16 12:37:00 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 6HRV098TDA | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:37:00 [DEBUG] app.after_request:34 - Request 0eeb71a67c46f00f processed in 0.7077 seconds
2025-04-16 12:37:01 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:37:01 [DEBUG] token_auth.verify_token:74 - Token verification completed in 1.5230 seconds
2025-04-16 12:37:01 [INFO] token_auth.verify_token:79 - Token BQ3FXGQGIM is invalid
2025-04-16 12:37:01 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BQ3FXGQGIM | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:37:01 [DEBUG] app.after_request:34 - Request bc3f0690ecf62b75 processed in 1.5244 seconds
2025-04-16 12:38:17 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:38:17 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:38:17 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:38:17 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:38:17 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:41:52 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:41:53 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:41:53 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:41:53 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:41:53 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:41:55 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:41:56 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:41:56 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:41:56 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:41:56 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:42:50 [DEBUG] app.after_request:34 - Request 13be6c11b41a257a processed in 0.0036 seconds
2025-04-16 12:42:50 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: prajwal k r
2025-04-16 12:42:50 [DEBUG] token_auth.generate_unique_token:14 - Generated token: U18X0OKH14
2025-04-16 12:42:50 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: U18X0OKH14
2025-04-16 12:42:50 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: U18X0OKH14
2025-04-16 12:42:51 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:42:51 [DEBUG] token_auth.get_or_generate_token:38 - Token U18X0OKH14 is unique (verified after 1 attempts)
2025-04-16 12:42:51 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: U18X0OKH14
2025-04-16 12:42:51 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: U18X0OKH14
2025-04-16 12:42:51 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:42:51 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:42:51 [DEBUG] w3_utils.store_token_on_blockchain:265 - Waiting for transaction receipt: c3200167d2ec8963c5fe71b7742699d808b7c456326bba266c3d5e2a34583e38
2025-04-16 12:44:51 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 507, in wait_for_transaction_receipt
    _timeout.sleep(poll_latency)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\threads.py", line 101, in sleep
    self.check()
    ~~~~~~~~~~^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\threads.py", line 94, in check
    raise self
web3._utils.threads.Timeout: 120 seconds

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 266, in store_token_on_blockchain
    receipt = web3.eth.wait_for_transaction_receipt(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 511, in wait_for_transaction_receipt
    raise TimeExhausted(
    ...<2 lines>...
    )
web3.exceptions.TimeExhausted: Transaction HexBytes('0xc3200167d2ec8963c5fe71b7742699d808b7c456326bba266c3d5e2a34583e38') is not in the chain after 120 seconds

2025-04-16 12:44:51 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token U18X0OKH14 on blockchain for user prajwal k r
2025-04-16 12:44:51 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 121.3413 seconds
2025-04-16 12:44:51 [INFO] w3_utils.upload_to_filebase:140 - Uploading file U18X0OKH14.txt to storage...
2025-04-16 12:44:52 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal k r | Token: U18X0OKH14 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/U18X0OKH14.txt
2025-04-16 12:44:52 [DEBUG] app.after_request:34 - Request c265a3e8abfbf87e processed in 122.5605 seconds
2025-04-16 12:45:23 [DEBUG] app.after_request:34 - Request cf2c0bca1cb2c863 processed in 0.0017 seconds
2025-04-16 12:45:23 [INFO] token_auth.verify_token:67 - Verifying token: U18X0OKH14
2025-04-16 12:45:23 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: U18X0OKH14
2025-04-16 12:45:23 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: U18X0OKH14
2025-04-16 12:45:24 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:45:24 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7929 seconds
2025-04-16 12:45:24 [INFO] token_auth.verify_token:79 - Token U18X0OKH14 is invalid
2025-04-16 12:45:24 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: U18X0OKH14 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:45:24 [DEBUG] app.after_request:34 - Request fb8a89a40599e89d processed in 0.7947 seconds
2025-04-16 12:47:21 [DEBUG] app.after_request:34 - Request 0c3202765444c121 processed in 0.0024 seconds
2025-04-16 12:47:21 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: edith
2025-04-16 12:47:21 [DEBUG] token_auth.generate_unique_token:14 - Generated token: X63XUZNOC7
2025-04-16 12:47:21 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: X63XUZNOC7
2025-04-16 12:47:21 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: X63XUZNOC7
2025-04-16 12:47:22 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:47:22 [DEBUG] token_auth.get_or_generate_token:38 - Token X63XUZNOC7 is unique (verified after 1 attempts)
2025-04-16 12:47:22 [INFO] w3_utils.store_token_on_blockchain:228 - Storing token on blockchain: X63XUZNOC7
2025-04-16 12:47:22 [DEBUG] w3_utils.store_token_on_blockchain:250 - Building transaction for token: X63XUZNOC7
2025-04-16 12:47:22 [DEBUG] w3_utils.store_token_on_blockchain:259 - Signing transaction...
2025-04-16 12:47:22 [DEBUG] w3_utils.store_token_on_blockchain:262 - Sending transaction to network...
2025-04-16 12:47:23 [DEBUG] w3_utils.store_token_on_blockchain:275 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 263, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 12:47:23 [WARNING] token_auth.get_or_generate_token:50 - Failed to store token X63XUZNOC7 on blockchain for user edith
2025-04-16 12:47:23 [DEBUG] token_auth.get_or_generate_token:53 - Token generation completed in 1.4488 seconds
2025-04-16 12:47:23 [INFO] w3_utils.upload_to_filebase:140 - Uploading file X63XUZNOC7.txt to storage...
2025-04-16 12:47:23 [INFO] .None:0 - ACCESS: /encrypt | User: edith | Token: X63XUZNOC7 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/X63XUZNOC7.txt
2025-04-16 12:47:23 [DEBUG] app.after_request:34 - Request de96c6c1b75eadb3 processed in 2.1125 seconds
2025-04-16 12:47:33 [DEBUG] app.after_request:34 - Request 6401b1cadb9d6280 processed in 0.0002 seconds
2025-04-16 12:47:33 [INFO] token_auth.verify_token:67 - Verifying token: X63XUZNOC7
2025-04-16 12:47:33 [INFO] w3_utils.verify_token_on_blockchain:288 - Verifying token on blockchain: X63XUZNOC7
2025-04-16 12:47:33 [DEBUG] w3_utils.verify_token_on_blockchain:308 - Calling verifyToken function for token: X63XUZNOC7
2025-04-16 12:47:33 [DEBUG] w3_utils.verify_token_on_blockchain:318 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 309, in verify_token_on_blockchain
    is_valid = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 12:47:33 [DEBUG] token_auth.verify_token:74 - Token verification completed in 0.7073 seconds
2025-04-16 12:47:33 [INFO] token_auth.verify_token:79 - Token X63XUZNOC7 is invalid
2025-04-16 12:47:33 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: X63XUZNOC7 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 12:47:33 [DEBUG] app.after_request:34 - Request af3eaf96c74f3810 processed in 0.7088 seconds
2025-04-16 12:49:11 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:49:11 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:49:11 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:49:11 [INFO] app.<module>:160 - Starting PII Authenticator backend server
2025-04-16 12:54:23 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:54:24 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:54:24 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 12:54:24 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 12:56:52 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:56:52 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:56:52 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:56:52 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:56:52 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 12:56:54 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 12:56:55 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 12:56:55 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 12:56:55 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 12:56:55 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 13:01:49 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:01:49 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:01:49 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:01:49 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:01:50 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 13:01:51 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:01:51 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:01:51 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:01:51 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:01:51 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 13:09:57 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:09:58 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:09:58 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:09:58 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:09:58 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 13:10:00 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:10:00 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:10:00 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:10:00 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:10:00 [INFO] app.<module>:183 - Starting PII Authenticator backend server
2025-04-16 13:17:29 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:17:29 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:17:30 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:17:30 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:17:30 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:17:33 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:17:33 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:17:33 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:17:33 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:17:33 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:17:35 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:17:35 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:17:35 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:17:35 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:17:35 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:22:18 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:22:18 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:22:18 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:22:18 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:22:18 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:22:20 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:22:20 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:22:20 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:22:20 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:22:20 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:22:53 [DEBUG] app.after_request:35 - Request fe00bd6c321d6dc8 processed in 0.0035 seconds
2025-04-16 13:22:53 [INFO] token_auth.verify_token:65 - Verifying token: MOCK_lvjqfclgk78
2025-04-16 13:22:53 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: MOCK_lvjqfclgk78
2025-04-16 13:22:53 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file MOCK_lvjqfclgk78.json exists in Filebase...
2025-04-16 13:22:55 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file MOCK_lvjqfclgk78.txt exists in Filebase...
2025-04-16 13:22:56 [DEBUG] token_auth.verify_token:72 - Token verification completed in 2.3044 seconds
2025-04-16 13:22:56 [INFO] token_auth.verify_token:77 - Token MOCK_lvjqfclgk78 is invalid
2025-04-16 13:22:56 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: MOCK_lvjqfclgk78 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 13:22:56 [DEBUG] app.after_request:35 - Request 331e085d762d3c45 processed in 2.3082 seconds
2025-04-16 13:33:14 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:33:15 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:33:15 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:33:15 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:33:15 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:33:17 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:33:17 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:33:17 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:33:17 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:33:17 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:36:36 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:36:36 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:36:36 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:36:36 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:36:36 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:36:38 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:36:38 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:36:38 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:36:38 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:36:38 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:37:23 [DEBUG] app.after_request:35 - Request 6370ba1b0def85dc processed in 0.0063 seconds
2025-04-16 13:37:23 [INFO] token_auth.verify_token:65 - Verifying token: MOCK_ocn87kyl2b
2025-04-16 13:37:23 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: MOCK_ocn87kyl2b
2025-04-16 13:37:23 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file MOCK_ocn87kyl2b.json exists in Filebase...
2025-04-16 13:37:24 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file MOCK_ocn87kyl2b.txt exists in Filebase...
2025-04-16 13:37:25 [DEBUG] token_auth.verify_token:72 - Token verification completed in 2.1584 seconds
2025-04-16 13:37:25 [INFO] token_auth.verify_token:77 - Token MOCK_ocn87kyl2b is invalid
2025-04-16 13:37:25 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: MOCK_ocn87kyl2b | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 13:37:25 [DEBUG] app.after_request:35 - Request 6d043808659cab96 processed in 2.1688 seconds
2025-04-16 13:38:54 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:38:54 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:38:54 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:38:54 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:38:55 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:38:56 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:38:57 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:38:57 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:38:57 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:38:57 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:39:19 [DEBUG] app.after_request:35 - Request cdc7f9fafcf61275 processed in 0.0015 seconds
2025-04-16 13:39:19 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: ddfe
2025-04-16 13:39:19 [DEBUG] token_auth.generate_unique_token:14 - Generated token: 8FE8699K4K
2025-04-16 13:39:19 [DEBUG] token_auth.get_or_generate_token:34 - Generated token for user ddfe: 8FE8699K4K
2025-04-16 13:39:19 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: 8FE8699K4K
2025-04-16 13:39:19 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: 8FE8699K4K
2025-04-16 13:39:20 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 13:39:20 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 13:39:20 [DEBUG] w3_utils.store_token_on_blockchain:323 - Transaction sent: 8e9c8b236f46bdda21fb206b51c2fbf6872e7893bc78ccae1766bc1ca57015dd
2025-04-16 13:39:20 [DEBUG] w3_utils.store_token_on_blockchain:327 - Waiting for transaction receipt with timeout: 8e9c8b236f46bdda21fb206b51c2fbf6872e7893bc78ccae1766bc1ca57015dd
2025-04-16 13:39:26 [WARNING] w3_utils.store_token_on_blockchain:331 - Timeout waiting for receipt, but transaction was sent: 8e9c8b236f46bdda21fb206b51c2fbf6872e7893bc78ccae1766bc1ca57015dd
2025-04-16 13:39:26 [WARNING] w3_utils.store_token_on_blockchain:332 - Error: Transaction HexBytes('0x8e9c8b236f46bdda21fb206b51c2fbf6872e7893bc78ccae1766bc1ca57015dd') is not in the chain after 5 seconds
2025-04-16 13:39:26 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "p:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 338, in store_token_on_blockchain
    logger.info(f"Transaction hash: {receipt.transactionHash.hex()}")
                                     ^^^^^^^
UnboundLocalError: cannot access local variable 'receipt' where it is not associated with a value

2025-04-16 13:39:26 [WARNING] token_auth.get_or_generate_token:46 - Failed to store token 8FE8699K4K on blockchain for user ddfe
2025-04-16 13:39:26 [DEBUG] token_auth.get_or_generate_token:51 - Token generation completed in 6.1479 seconds
2025-04-16 13:39:26 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 8FE8699K4K.json to storage...
2025-04-16 13:39:26 [INFO] .None:0 - ACCESS: /encrypt | User: ddfe | Token: 8FE8699K4K | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/8FE8699K4K.json
2025-04-16 13:39:26 [DEBUG] app.after_request:35 - Request 56588e69b4523d0d processed in 6.8394 seconds
2025-04-16 13:39:39 [DEBUG] app.after_request:35 - Request ff3338846295e580 processed in 0.0006 seconds
2025-04-16 13:39:39 [INFO] token_auth.verify_token:65 - Verifying token: 8FE8699K4K
2025-04-16 13:39:39 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: 8FE8699K4K
2025-04-16 13:39:39 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file 8FE8699K4K.json exists in Filebase...
2025-04-16 13:39:40 [DEBUG] token_auth.verify_token:72 - Token verification completed in 0.5636 seconds
2025-04-16 13:39:40 [INFO] token_auth.verify_token:75 - Token 8FE8699K4K is valid
2025-04-16 13:39:40 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 8FE8699K4K | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 13:39:40 [DEBUG] app.after_request:35 - Request 7a42ea82659e50bf processed in 0.5642 seconds
2025-04-16 13:40:08 [DEBUG] app.after_request:35 - Request 259d23200b526dd8 processed in 0.0002 seconds
2025-04-16 13:40:08 [INFO] token_auth.verify_token:65 - Verifying token: 8FE8699K4K
2025-04-16 13:40:08 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: 8FE8699K4K
2025-04-16 13:40:08 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file 8FE8699K4K.json exists in Filebase...
2025-04-16 13:40:09 [DEBUG] token_auth.verify_token:72 - Token verification completed in 0.6607 seconds
2025-04-16 13:40:09 [INFO] token_auth.verify_token:75 - Token 8FE8699K4K is valid
2025-04-16 13:40:09 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 8FE8699K4K | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 13:40:09 [DEBUG] app.after_request:35 - Request c47e30a080b31a4f processed in 0.6615 seconds
2025-04-16 13:40:55 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:40:56 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:40:56 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:40:56 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:40:56 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:40:58 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 13:40:58 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 13:40:58 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 13:40:58 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 13:40:58 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 13:41:26 [DEBUG] app.after_request:35 - Request 7e7e17249286cd17 processed in 0.0001 seconds
2025-04-16 13:41:26 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: anupsdsfc
2025-04-16 13:41:26 [DEBUG] token_auth.generate_unique_token:14 - Generated token: EKSQKJ3T2R
2025-04-16 13:41:26 [DEBUG] token_auth.get_or_generate_token:34 - Generated token for user anupsdsfc: EKSQKJ3T2R
2025-04-16 13:41:26 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: EKSQKJ3T2R
2025-04-16 13:41:26 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: EKSQKJ3T2R
2025-04-16 13:41:27 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 13:41:27 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 13:41:27 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 321, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 13:41:27 [WARNING] token_auth.get_or_generate_token:46 - Failed to store token EKSQKJ3T2R on blockchain for user anupsdsfc
2025-04-16 13:41:27 [DEBUG] token_auth.get_or_generate_token:51 - Token generation completed in 0.9842 seconds
2025-04-16 13:41:27 [INFO] w3_utils.upload_to_filebase:140 - Uploading file EKSQKJ3T2R.json to storage...
2025-04-16 13:41:28 [INFO] .None:0 - ACCESS: /encrypt | User: anupsdsfc | Token: EKSQKJ3T2R | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/EKSQKJ3T2R.json
2025-04-16 13:41:28 [DEBUG] app.after_request:35 - Request 2b44af750c77701a processed in 2.2257 seconds
2025-04-16 13:41:38 [DEBUG] app.after_request:35 - Request fdbea13007b1163d processed in 0.0001 seconds
2025-04-16 13:41:38 [INFO] token_auth.verify_token:65 - Verifying token: EKSQKJ3T2R
2025-04-16 13:41:38 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: EKSQKJ3T2R
2025-04-16 13:41:38 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file EKSQKJ3T2R.json exists in Filebase...
2025-04-16 13:41:38 [DEBUG] token_auth.verify_token:72 - Token verification completed in 0.7469 seconds
2025-04-16 13:41:38 [INFO] token_auth.verify_token:75 - Token EKSQKJ3T2R is valid
2025-04-16 13:41:38 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EKSQKJ3T2R | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 13:41:38 [DEBUG] app.after_request:35 - Request 658ee786bc39ea92 processed in 0.7482 seconds
2025-04-16 14:02:05 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 14:02:06 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 14:02:06 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 14:02:06 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 14:02:06 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 14:02:08 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 14:02:09 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 14:02:09 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 14:02:09 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 14:02:09 [INFO] app.<module>:184 - Starting PII Authenticator backend server
2025-04-16 14:03:15 [DEBUG] app.after_request:35 - Request e99bc0578ff2fd00 processed in 0.0001 seconds
2025-04-16 14:03:15 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: prajwal_k_r
2025-04-16 14:03:15 [DEBUG] token_auth.generate_unique_token:14 - Generated token: BPJQM55XZI
2025-04-16 14:03:15 [DEBUG] token_auth.get_or_generate_token:34 - Generated token for user prajwal_k_r: BPJQM55XZI
2025-04-16 14:03:15 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: BPJQM55XZI
2025-04-16 14:03:15 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: BPJQM55XZI
2025-04-16 14:03:16 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 14:03:16 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 14:03:16 [DEBUG] w3_utils.store_token_on_blockchain:323 - Transaction sent: 92334171136203527f8ce2ba367f1f465cd90fab6609ead37da70eb3e5f26dca
2025-04-16 14:03:16 [DEBUG] w3_utils.store_token_on_blockchain:327 - Waiting for transaction receipt with timeout: 92334171136203527f8ce2ba367f1f465cd90fab6609ead37da70eb3e5f26dca
2025-04-16 14:03:24 [WARNING] w3_utils.store_token_on_blockchain:331 - Timeout waiting for receipt, but transaction was sent: 92334171136203527f8ce2ba367f1f465cd90fab6609ead37da70eb3e5f26dca
2025-04-16 14:03:24 [WARNING] w3_utils.store_token_on_blockchain:332 - Error: Transaction HexBytes('0x92334171136203527f8ce2ba367f1f465cd90fab6609ead37da70eb3e5f26dca') is not in the chain after 5 seconds
2025-04-16 14:03:24 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 338, in store_token_on_blockchain
    logger.info(f"Transaction hash: {receipt.transactionHash.hex()}")
                                     ^^^^^^^
UnboundLocalError: cannot access local variable 'receipt' where it is not associated with a value

2025-04-16 14:03:24 [WARNING] token_auth.get_or_generate_token:46 - Failed to store token BPJQM55XZI on blockchain for user prajwal_k_r
2025-04-16 14:03:24 [DEBUG] token_auth.get_or_generate_token:51 - Token generation completed in 8.2946 seconds
2025-04-16 14:03:24 [INFO] w3_utils.upload_to_filebase:140 - Uploading file BPJQM55XZI.json to storage...
2025-04-16 14:03:25 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: BPJQM55XZI | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/BPJQM55XZI.json
2025-04-16 14:03:25 [DEBUG] app.after_request:35 - Request 9a1b3acccd07afc7 processed in 9.6666 seconds
2025-04-16 14:03:35 [DEBUG] app.after_request:35 - Request 84d1d93ed2cdda52 processed in 0.0001 seconds
2025-04-16 14:03:35 [INFO] token_auth.verify_token:65 - Verifying token: BPJQM55XZI
2025-04-16 14:03:35 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: BPJQM55XZI
2025-04-16 14:03:35 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file BPJQM55XZI.json exists in Filebase...
2025-04-16 14:03:35 [DEBUG] token_auth.verify_token:72 - Token verification completed in 0.5774 seconds
2025-04-16 14:03:35 [INFO] token_auth.verify_token:75 - Token BPJQM55XZI is valid
2025-04-16 14:03:35 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BPJQM55XZI | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 14:03:35 [DEBUG] app.after_request:35 - Request f445e7f9393f993f processed in 0.5785 seconds
2025-04-16 14:03:47 [DEBUG] app.after_request:35 - Request ce0041f765a5e2ce processed in 0.0001 seconds
2025-04-16 14:03:47 [INFO] token_auth.verify_token:65 - Verifying token: BPJQM55XZI
2025-04-16 14:03:47 [INFO] w3_utils.verify_token_on_blockchain:356 - Verifying token on blockchain: BPJQM55XZI
2025-04-16 14:03:47 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file BPJQM55XZI.json exists in Filebase...
2025-04-16 14:03:47 [DEBUG] token_auth.verify_token:72 - Token verification completed in 0.5487 seconds
2025-04-16 14:03:47 [INFO] token_auth.verify_token:75 - Token BPJQM55XZI is valid
2025-04-16 14:03:47 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BPJQM55XZI | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 14:03:47 [DEBUG] app.after_request:35 - Request e2a1bcbfce4a7f71 processed in 0.5521 seconds
2025-04-16 14:04:43 [DEBUG] app.after_request:35 - Request 8a8dea661591594e processed in 0.0003 seconds
2025-04-16 14:04:43 [INFO] token_auth.get_or_generate_token:27 - Generating token for user: prajwal_k_r
2025-04-16 14:04:43 [DEBUG] token_auth.generate_unique_token:14 - Generated token: ZCTDV8FPCB
2025-04-16 14:04:43 [DEBUG] token_auth.get_or_generate_token:34 - Generated token for user prajwal_k_r: ZCTDV8FPCB
2025-04-16 14:04:43 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: ZCTDV8FPCB
2025-04-16 14:04:43 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: ZCTDV8FPCB
2025-04-16 14:04:43 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 14:04:43 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 14:04:44 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 321, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 14:04:44 [WARNING] token_auth.get_or_generate_token:46 - Failed to store token ZCTDV8FPCB on blockchain for user prajwal_k_r
2025-04-16 14:04:44 [DEBUG] token_auth.get_or_generate_token:51 - Token generation completed in 0.6134 seconds
2025-04-16 14:04:44 [INFO] w3_utils.upload_to_filebase:140 - Uploading file ZCTDV8FPCB.json to storage...
2025-04-16 14:04:44 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: ZCTDV8FPCB | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/ZCTDV8FPCB.json
2025-04-16 14:04:44 [DEBUG] app.after_request:35 - Request 22ca71d9676e6465 processed in 1.2339 seconds
2025-04-16 14:07:54 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 14:07:55 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 14:07:55 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 14:07:55 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 14:07:55 [INFO] app.<module>:201 - Starting PII Authenticator backend server
2025-04-16 14:07:57 [DEBUG] app.after_request:35 - Request dc12f21d48ca6916 processed in 0.0003 seconds
2025-04-16 14:07:57 [INFO] token_auth.get_or_generate_token:31 - Checking/generating token for user: prajwal_k_r
2025-04-16 14:07:57 [INFO] token_auth.check_existing_token:75 - Checking for existing token for user: prajwal_k_r
2025-04-16 14:07:57 [INFO] token_auth.check_existing_token:124 - No existing token found for user: prajwal_k_r
2025-04-16 14:07:57 [DEBUG] token_auth.generate_unique_token:15 - Generated token: 52ZK9XS7XE
2025-04-16 14:07:57 [DEBUG] token_auth.get_or_generate_token:43 - Generated new token for user prajwal_k_r: 52ZK9XS7XE
2025-04-16 14:07:57 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: 52ZK9XS7XE
2025-04-16 14:07:57 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: 52ZK9XS7XE
2025-04-16 14:07:57 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 14:07:57 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 14:07:57 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 321, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 14:07:57 [WARNING] token_auth.get_or_generate_token:51 - Failed to store token 52ZK9XS7XE on blockchain for user prajwal_k_r
2025-04-16 14:07:57 [DEBUG] token_auth.get_or_generate_token:56 - Token generation completed in 0.6663 seconds
2025-04-16 14:07:57 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 52ZK9XS7XE.json to storage...
2025-04-16 14:07:59 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: 52ZK9XS7XE | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/52ZK9XS7XE.json
2025-04-16 14:07:59 [DEBUG] app.after_request:35 - Request 8421a7e38dc3e9a6 processed in 2.1882 seconds
2025-04-16 14:08:00 [DEBUG] app.after_request:35 - Request 4c63548a2d29bba0 processed in 0.0002 seconds
2025-04-16 14:08:00 [INFO] token_auth.get_or_generate_token:31 - Checking/generating token for user: prajwal_k_r
2025-04-16 14:08:00 [INFO] token_auth.check_existing_token:75 - Checking for existing token for user: prajwal_k_r
2025-04-16 14:08:00 [INFO] token_auth.check_existing_token:124 - No existing token found for user: prajwal_k_r
2025-04-16 14:08:00 [DEBUG] token_auth.generate_unique_token:15 - Generated token: 4YBG3S85UK
2025-04-16 14:08:00 [DEBUG] token_auth.get_or_generate_token:43 - Generated new token for user prajwal_k_r: 4YBG3S85UK
2025-04-16 14:08:00 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: 4YBG3S85UK
2025-04-16 14:08:00 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: 4YBG3S85UK
2025-04-16 14:08:01 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 14:08:01 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 14:08:01 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 321, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 14:08:01 [WARNING] token_auth.get_or_generate_token:51 - Failed to store token 4YBG3S85UK on blockchain for user prajwal_k_r
2025-04-16 14:08:01 [DEBUG] token_auth.get_or_generate_token:56 - Token generation completed in 0.6251 seconds
2025-04-16 14:08:01 [INFO] w3_utils.upload_to_filebase:140 - Uploading file 4YBG3S85UK.json to storage...
2025-04-16 14:08:02 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: 4YBG3S85UK | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/4YBG3S85UK.json
2025-04-16 14:08:02 [DEBUG] app.after_request:35 - Request f4e0627d11600c1c processed in 1.4505 seconds
2025-04-16 14:13:36 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 14:13:36 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 14:13:36 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 14:13:36 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 14:13:36 [INFO] app.<module>:302 - Starting PII Authenticator backend server
2025-04-16 14:13:41 [DEBUG] app.after_request:35 - Request 3a8b5a3d93c6cc97 processed in 0.0001 seconds
2025-04-16 14:13:41 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:13:41 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:13:41 [DEBUG] token_auth.generate_unique_token:20 - Generated token: UF6PPE8T4L
2025-04-16 14:13:41 [DEBUG] token_auth.get_or_generate_token:73 - Generated new token for user key prajwal_k_r_2005-02-26_aadhaar_860097240509: UF6PPE8T4L
2025-04-16 14:13:41 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: UF6PPE8T4L
2025-04-16 14:13:41 [DEBUG] w3_utils.store_token_on_blockchain:308 - Building transaction for token: UF6PPE8T4L
2025-04-16 14:13:42 [DEBUG] w3_utils.store_token_on_blockchain:317 - Signing transaction...
2025-04-16 14:13:42 [DEBUG] w3_utils.store_token_on_blockchain:320 - Sending transaction to network...
2025-04-16 14:13:42 [DEBUG] w3_utils.store_token_on_blockchain:343 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 321, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 14:13:42 [WARNING] token_auth.get_or_generate_token:81 - Failed to store token UF6PPE8T4L on blockchain for user key prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:13:42 [INFO] token_auth.save_token_to_file:181 - Token data saved to tokens.json for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:13:42 [DEBUG] token_auth.get_or_generate_token:92 - Token generation completed in 0.6353 seconds
2025-04-16 14:13:42 [INFO] w3_utils.upload_to_filebase:140 - Uploading file UF6PPE8T4L.json to storage...
2025-04-16 14:13:44 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/UF6PPE8T4L.json
2025-04-16 14:13:44 [DEBUG] app.after_request:35 - Request 68816c9333d6bc54 processed in 2.2314 seconds
2025-04-16 14:14:47 [DEBUG] app.after_request:35 - Request db0c61e54ede2cb4 processed in 0.0002 seconds
2025-04-16 14:14:47 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:14:47 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:14:47 [INFO] token_auth.get_or_generate_token:68 - Found existing token for user key prajwal_k_r_2005-02-26_aadhaar_860097240509: UF6PPE8T4L
2025-04-16 14:14:47 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Existing token retrieved for user
2025-04-16 14:14:47 [DEBUG] app.after_request:35 - Request 2ef1892a05273e3d processed in 0.0150 seconds
2025-04-16 14:17:46 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 14:17:46 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 14:17:46 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 14:17:46 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 14:17:46 [INFO] app.<module>:305 - Starting PII Authenticator backend server
2025-04-16 14:18:30 [DEBUG] app.after_request:35 - Request 5f144dba022ab572 processed in 0.0002 seconds
2025-04-16 14:18:30 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:18:30 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 14:18:30 [INFO] token_auth.get_or_generate_token:68 - Found existing token for user key prajwal_k_r_2005-02-26_aadhaar_860097240509: UF6PPE8T4L
2025-04-16 14:18:30 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Existing token retrieved for user
2025-04-16 14:18:30 [DEBUG] app.after_request:35 - Request 999ce92f73debd57 processed in 0.0025 seconds
2025-04-16 15:15:22 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:15:23 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:15:23 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:15:23 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:15:23 [INFO] app.<module>:320 - Starting PII Authenticator backend server
2025-04-16 15:16:04 [DEBUG] app.after_request:35 - Request 26e6aca2295cb127 processed in 0.0002 seconds
2025-04-16 15:16:04 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 15:16:04 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 15:16:04 [INFO] token_auth.get_or_generate_token:89 - Found existing token for user key prajwal_k_r_2005-02-26_aadhaar_860097240509: UF6PPE8T4L
2025-04-16 15:16:04 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Existing token retrieved for user
2025-04-16 15:16:04 [DEBUG] app.after_request:35 - Request effd71e1e850fb04 processed in 0.0202 seconds
2025-04-16 15:17:16 [DEBUG] app.after_request:35 - Request c8e8c7ad2b9bbcbf processed in 0.0001 seconds
2025-04-16 15:17:16 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 15:17:16 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_k_r_2005-02-26_aadhaar_860097240509
2025-04-16 15:17:16 [INFO] token_auth.get_or_generate_token:89 - Found existing token for user key prajwal_k_r_2005-02-26_aadhaar_860097240509: UF6PPE8T4L
2025-04-16 15:17:16 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Existing token retrieved for user
2025-04-16 15:17:16 [DEBUG] app.after_request:35 - Request d51a102a7d71ca16 processed in 0.0023 seconds
2025-04-16 15:17:25 [DEBUG] app.after_request:35 - Request 3041ceda53133e0f processed in 0.0001 seconds
2025-04-16 15:17:25 [INFO] token_auth.verify_token:284 - Verifying token: UF6PPE8T4L
2025-04-16 15:17:25 [INFO] w3_utils.verify_token_on_blockchain:358 - Verifying token on blockchain: UF6PPE8T4L
2025-04-16 15:17:25 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file UF6PPE8T4L.json exists in Filebase...
2025-04-16 15:17:27 [DEBUG] token_auth.verify_token:291 - Token verification completed in 1.4047 seconds
2025-04-16 15:17:27 [INFO] token_auth.verify_token:294 - Token UF6PPE8T4L is valid
2025-04-16 15:17:27 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 15:17:27 [DEBUG] app.after_request:35 - Request 18fda1d834a0928c processed in 1.4065 seconds
2025-04-16 15:22:06 [DEBUG] app.after_request:35 - Request 06caa94cc0194d5f processed in 0.0085 seconds
2025-04-16 15:22:06 [INFO] token_auth.verify_token:284 - Verifying token: UF6PPE8T4L
2025-04-16 15:22:06 [INFO] w3_utils.verify_token_on_blockchain:358 - Verifying token on blockchain: UF6PPE8T4L
2025-04-16 15:22:06 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file UF6PPE8T4L.json exists in Filebase...
2025-04-16 15:22:07 [INFO] w3_utils.check_file_exists_in_filebase:202 - Checking if file UF6PPE8T4L.txt exists in Filebase...
2025-04-16 15:22:08 [DEBUG] token_auth.verify_token:291 - Token verification completed in 1.4954 seconds
2025-04-16 15:22:08 [INFO] token_auth.verify_token:296 - Token UF6PPE8T4L is invalid
2025-04-16 15:22:08 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: UF6PPE8T4L | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 15:22:08 [DEBUG] app.after_request:35 - Request 99e180c1a543013e processed in 1.5103 seconds
2025-04-16 15:26:09 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:26:09 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:26:09 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:26:09 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:26:10 [INFO] app.<module>:320 - Starting PII Authenticator backend server
2025-04-16 15:26:51 [DEBUG] app.after_request:35 - Request 4ba447e6c645379e processed in 0.0002 seconds
2025-04-16 15:26:51 [DEBUG] token_auth.create_user_key:40 - Created user key: Prajwal_K_R_2005-02-26_aadhaar_860097240509
2025-04-16 15:26:51 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: Prajwal_K_R_2005-02-26_aadhaar_860097240509
2025-04-16 15:26:51 [DEBUG] token_auth.generate_unique_token:20 - Generated token: ZHWYEHTSCQ
2025-04-16 15:26:51 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key Prajwal_K_R_2005-02-26_aadhaar_860097240509: ZHWYEHTSCQ
2025-04-16 15:26:51 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: ZHWYEHTSCQ
2025-04-16 15:26:51 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: ZHWYEHTSCQ
2025-04-16 15:26:51 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 15:26:51 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 15:26:51 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 15:26:51 [INFO] token_auth.get_or_generate_token:102 - Generated realistic transaction hash: 0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d
2025-04-16 15:26:51 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token ZHWYEHTSCQ: 0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d
2025-04-16 15:26:51 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'ZHWYEHTSCQ', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/ZHWYEHTSCQ.json', 'txn_hash': '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a20225072616a77616c5f4b5f525f323030352d30322d32365f616164686161725f383630303937323430353039222c2022696174223a20313734343739373431317d.bb69ac5d1553fd4afa94d5e73bb2cfb41841278f3d7195a2350716b9e5936134', 'timestamp': 1744797411.6391153}
2025-04-16 15:26:51 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: Prajwal_K_R_2005-02-26_aadhaar_860097240509
2025-04-16 15:26:51 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 0.5644 seconds
2025-04-16 15:26:51 [INFO] w3_utils.upload_to_filebase:140 - Uploading file ZHWYEHTSCQ.json to storage...
2025-04-16 15:26:52 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_k_r | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/ZHWYEHTSCQ.json
2025-04-16 15:26:52 [DEBUG] app.encrypt:143 - Returning transaction hash: 0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d
2025-04-16 15:26:52 [INFO] app.encrypt:152 - Final transaction hash being returned: 0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d
2025-04-16 15:26:52 [DEBUG] app.after_request:35 - Request 83302c1477d1ef49 processed in 1.7072 seconds
2025-04-16 15:27:28 [DEBUG] app.after_request:35 - Request a7eef1a32962d90a processed in 0.0003 seconds
2025-04-16 15:27:28 [INFO] token_auth.verify_token:284 - Verifying token: ZHWYEHTSCQ
2025-04-16 15:27:28 [INFO] w3_utils.verify_token_on_blockchain:359 - Verifying token on blockchain: ZHWYEHTSCQ
2025-04-16 15:27:28 [INFO] w3_utils.verify_token_on_blockchain:379 - Verifying token ZHWYEHTSCQ directly on the blockchain
2025-04-16 15:27:28 [INFO] w3_utils.call_contract_with_timeout:404 - Token ZHWYEHTSCQ found in tokens.json
2025-04-16 15:27:28 [INFO] w3_utils.verify_token_on_blockchain:422 - Token ZHWYEHTSCQ is valid
2025-04-16 15:27:28 [DEBUG] token_auth.verify_token:291 - Token verification completed in 0.0237 seconds
2025-04-16 15:27:28 [INFO] token_auth.verify_token:294 - Token ZHWYEHTSCQ is valid
2025-04-16 15:27:28 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 15:27:28 [DEBUG] app.after_request:35 - Request 08092199ffda62c1 processed in 0.0251 seconds
2025-04-16 15:33:28 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:33:29 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:33:29 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:33:29 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:33:29 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:33:41 [DEBUG] app.after_request:35 - Request 60737c205db0fafa processed in 0.0002 seconds
2025-04-16 15:33:41 [INFO] token_auth.verify_token:290 - Verifying token: ZHWYEHTSCQ
2025-04-16 15:33:41 [INFO] w3_utils.verify_token_on_blockchain:426 - Verifying token on blockchain: ZHWYEHTSCQ
2025-04-16 15:33:41 [INFO] w3_utils.verify_token_on_blockchain:446 - Verifying token ZHWYEHTSCQ directly on the blockchain
2025-04-16 15:33:41 [INFO] w3_utils.call_contract_with_timeout:455 - Calling verifyToken function on smart contract for token: ZHWYEHTSCQ
2025-04-16 15:33:42 [ERROR] w3_utils.call_contract_with_timeout:467 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 15:33:42 [DEBUG] w3_utils.call_contract_with_timeout:468 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 458, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 15:33:42 [WARNING] w3_utils.call_contract_with_timeout:471 - Falling back to local verification due to blockchain error
2025-04-16 15:33:42 [INFO] w3_utils.call_contract_with_timeout:487 - Token ZHWYEHTSCQ found in tokens.json (fallback)
2025-04-16 15:33:42 [INFO] w3_utils.verify_token_on_blockchain:501 - Token ZHWYEHTSCQ is valid
2025-04-16 15:33:42 [DEBUG] token_auth.verify_token:297 - Token verification completed in 0.7986 seconds
2025-04-16 15:33:42 [INFO] token_auth.verify_token:300 - Token ZHWYEHTSCQ is valid
2025-04-16 15:33:42 [ERROR] app.validate:226 - Error in /validate_token: cannot unpack non-iterable bool object
2025-04-16 15:33:42 [ERROR] app.validate:227 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\app.py", line 209, in validate
    valid, blockchain_details = verify_token(token)
    ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable bool object

2025-04-16 15:33:42 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: error | Details: cannot unpack non-iterable bool object
2025-04-16 15:33:42 [DEBUG] app.after_request:35 - Request e6ff185a583636c5 processed in 0.8018 seconds
2025-04-16 15:37:13 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:37:14 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:37:14 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:37:14 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:37:14 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:37:17 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:37:17 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:37:17 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:37:17 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:37:17 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:37:19 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:37:19 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:37:19 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:37:19 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:37:19 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:41:14 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:41:15 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:41:15 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:41:15 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:41:15 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:41:17 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:41:17 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:41:17 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:41:17 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:41:17 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:41:19 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:41:19 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:41:19 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:41:19 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:41:19 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:50:33 [DEBUG] app.after_request:35 - Request dc42a8de7ab632ff processed in 0.0068 seconds
2025-04-16 15:50:33 [INFO] token_auth.verify_token:223 - Verifying token: ZHWYEHTSCQ
2025-04-16 15:50:33 [DEBUG] token_auth.log_verification_attempt:276 - Verification attempt logged for token: ZHWYEHTSCQ
2025-04-16 15:50:35 [WARNING] w3_utils.get_token_transaction_details:404 - Error getting transaction details: Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.
2025-04-16 15:50:35 [DEBUG] token_auth.verify_token:231 - Blockchain details for token ZHWYEHTSCQ: {'tx_hash': '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d', 'network': 'Sepolia Testnet', 'status': 'unknown'}
2025-04-16 15:50:35 [INFO] w3_utils.verify_token_on_blockchain:426 - Verifying token on blockchain: ZHWYEHTSCQ
2025-04-16 15:50:35 [INFO] w3_utils.verify_token_on_blockchain:446 - Verifying token ZHWYEHTSCQ directly on the blockchain
2025-04-16 15:50:35 [INFO] w3_utils.call_contract_with_timeout:455 - Calling verifyToken function on smart contract for token: ZHWYEHTSCQ
2025-04-16 15:50:36 [ERROR] w3_utils.call_contract_with_timeout:467 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 15:50:36 [DEBUG] w3_utils.call_contract_with_timeout:468 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 458, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 15:50:36 [WARNING] w3_utils.call_contract_with_timeout:471 - Falling back to local verification due to blockchain error
2025-04-16 15:50:36 [INFO] w3_utils.call_contract_with_timeout:487 - Token ZHWYEHTSCQ found in tokens.json (fallback)
2025-04-16 15:50:36 [INFO] w3_utils.verify_token_on_blockchain:501 - Token ZHWYEHTSCQ is valid
2025-04-16 15:50:36 [DEBUG] token_auth.verify_token:237 - Token verification completed in 2.3348 seconds
2025-04-16 15:50:36 [INFO] token_auth.verify_token:240 - Token ZHWYEHTSCQ is valid
2025-04-16 15:50:36 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 15:50:36 [DEBUG] app.after_request:35 - Request 2ffdfda4bf8b908e processed in 2.3404 seconds
2025-04-16 15:53:20 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:53:21 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:53:21 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:53:21 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:53:21 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:53:23 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:53:23 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:53:23 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:53:23 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:53:23 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:53:25 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:53:25 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:53:25 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:53:25 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:53:26 [INFO] app.<module>:324 - Starting PII Authenticator backend server
2025-04-16 15:57:19 [DEBUG] app.after_request:35 - Request f263e785c0609af2 processed in 0.0094 seconds
2025-04-16 15:57:19 [INFO] token_auth.verify_token:223 - Verifying token: ZHWYEHTSCQ
2025-04-16 15:57:19 [DEBUG] token_auth.log_verification_attempt:276 - Verification attempt logged for token: ZHWYEHTSCQ
2025-04-16 15:57:20 [WARNING] w3_utils.get_token_transaction_details:409 - Error getting transaction details: Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.
2025-04-16 15:57:20 [DEBUG] token_auth.verify_token:231 - Blockchain details for token ZHWYEHTSCQ: {'tx_hash': '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.", 'error_message': 'Transaction hash not found on the blockchain. This could be because the transaction is still pending, or the blockchain node is not fully synced.'}
2025-04-16 15:57:20 [INFO] w3_utils.verify_token_on_blockchain:435 - Verifying token on blockchain: ZHWYEHTSCQ
2025-04-16 15:57:20 [INFO] w3_utils.verify_token_on_blockchain:455 - Verifying token ZHWYEHTSCQ directly on the blockchain
2025-04-16 15:57:20 [INFO] w3_utils.call_contract_with_timeout:464 - Calling verifyToken function on smart contract for token: ZHWYEHTSCQ
2025-04-16 15:57:21 [ERROR] w3_utils.call_contract_with_timeout:476 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 15:57:21 [DEBUG] w3_utils.call_contract_with_timeout:477 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 467, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 15:57:21 [WARNING] w3_utils.call_contract_with_timeout:480 - Falling back to local verification due to blockchain error
2025-04-16 15:57:21 [INFO] w3_utils.call_contract_with_timeout:496 - Token ZHWYEHTSCQ found in tokens.json (fallback)
2025-04-16 15:57:21 [INFO] w3_utils.verify_token_on_blockchain:510 - Token ZHWYEHTSCQ is valid
2025-04-16 15:57:21 [DEBUG] token_auth.verify_token:237 - Token verification completed in 2.1407 seconds
2025-04-16 15:57:21 [INFO] token_auth.verify_token:240 - Token ZHWYEHTSCQ is valid
2025-04-16 15:57:21 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 15:57:21 [DEBUG] app.after_request:35 - Request 32939a99e03c499a processed in 2.1459 seconds
2025-04-16 15:59:45 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:59:46 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:59:46 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:59:46 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:59:47 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 15:59:47 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:59:48 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:59:48 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:59:48 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:59:48 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 15:59:50 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 15:59:51 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 15:59:51 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 15:59:51 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 15:59:51 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:03:05 [INFO] app.blockchain_status:329 - Checking blockchain connection status
2025-04-16 16:03:05 [DEBUG] w3_utils.check_blockchain_connection:357 - Checking blockchain connection...
2025-04-16 16:03:05 [DEBUG] w3_utils.check_blockchain_connection:369 - Latest block number: 8129762
2025-04-16 16:03:06 [INFO] .None:0 - ACCESS: /blockchain_status | User: N/A | Token: N/A | IP: 127.0.0.1 | Status: success | Details: Blockchain connection status: True
2025-04-16 16:03:06 [DEBUG] app.after_request:35 - Request fdcc801d7b9df4b9 processed in 0.8095 seconds
2025-04-16 16:04:49 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:04:50 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:04:50 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:04:50 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:04:50 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:04:52 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:04:53 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:04:53 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:04:53 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:04:53 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:04:55 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:04:55 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:04:55 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:04:55 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:04:55 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:08:58 [DEBUG] app.after_request:35 - Request 4328b1c3c1690b0a processed in 0.0021 seconds
2025-04-16 16:08:58 [INFO] token_auth.verify_token:223 - Verifying token: ZHWYEHTSCQ
2025-04-16 16:08:58 [DEBUG] token_auth.log_verification_attempt:299 - Verification attempt logged for token: ZHWYEHTSCQ
2025-04-16 16:08:58 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:08:58 [DEBUG] w3_utils.get_token_transaction_details:441 - Attempting to get transaction details for hash: 0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d
2025-04-16 16:08:58 [DEBUG] w3_utils.get_token_transaction_details:455 - Calling web3.eth.get_transaction...
2025-04-16 16:08:59 [WARNING] w3_utils.get_token_transaction_details:486 - Error getting transaction details: Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.
2025-04-16 16:08:59 [DEBUG] w3_utils.get_token_transaction_details:487 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 456, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.

2025-04-16 16:08:59 [DEBUG] token_auth.verify_token:241 - Blockchain details for token ZHWYEHTSCQ: {'tx_hash': '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x89e01fe4c3de450c106565894899ec4a569cdd7f9affd84a3e5e9c03a016763d' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. It may be on a different network or may be invalid.'}
2025-04-16 16:08:59 [WARNING] token_auth.verify_token:246 - Token ZHWYEHTSCQ exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. It may be on a different network or may be invalid.
2025-04-16 16:08:59 [INFO] w3_utils.verify_token_on_blockchain:523 - Verifying token on blockchain: ZHWYEHTSCQ
2025-04-16 16:08:59 [INFO] w3_utils.verify_token_on_blockchain:543 - Verifying token ZHWYEHTSCQ directly on the blockchain
2025-04-16 16:08:59 [INFO] w3_utils.call_contract_with_timeout:552 - Calling verifyToken function on smart contract for token: ZHWYEHTSCQ
2025-04-16 16:09:00 [ERROR] w3_utils.call_contract_with_timeout:564 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:09:00 [DEBUG] w3_utils.call_contract_with_timeout:565 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 555, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:09:00 [WARNING] w3_utils.call_contract_with_timeout:568 - Falling back to local verification due to blockchain error
2025-04-16 16:09:00 [INFO] w3_utils.call_contract_with_timeout:584 - Token ZHWYEHTSCQ found in tokens.json (fallback)
2025-04-16 16:09:00 [INFO] w3_utils.verify_token_on_blockchain:598 - Token ZHWYEHTSCQ is valid
2025-04-16 16:09:00 [DEBUG] token_auth.verify_token:260 - Token verification completed in 1.8282 seconds
2025-04-16 16:09:00 [INFO] token_auth.verify_token:263 - Token ZHWYEHTSCQ is valid
2025-04-16 16:09:00 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: ZHWYEHTSCQ | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:09:00 [DEBUG] app.after_request:35 - Request d73d28701509cbf5 processed in 1.8367 seconds
2025-04-16 16:10:02 [DEBUG] app.after_request:35 - Request f0f9c177c51f3e1e processed in 0.0004 seconds
2025-04-16 16:10:02 [DEBUG] token_auth.create_user_key:40 - Created user key: anup_raj_p_2004-02-26_aadhaar_860097240509
2025-04-16 16:10:02 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: anup_raj_p_2004-02-26_aadhaar_860097240509
2025-04-16 16:10:02 [DEBUG] token_auth.generate_unique_token:20 - Generated token: C04RL2MN8Q
2025-04-16 16:10:02 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key anup_raj_p_2004-02-26_aadhaar_860097240509: C04RL2MN8Q
2025-04-16 16:10:02 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: C04RL2MN8Q
2025-04-16 16:10:02 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: C04RL2MN8Q
2025-04-16 16:10:03 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 16:10:03 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 16:10:03 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:10:03 [INFO] token_auth.get_or_generate_token:102 - Generated realistic transaction hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:10:03 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token C04RL2MN8Q: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:10:03 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'C04RL2MN8Q', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/C04RL2MN8Q.json', 'txn_hash': '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a2022616e75705f72616a5f705f323030342d30322d32365f616164686161725f383630303937323430353039222c2022696174223a20313734343830303030337d.682a1b7d58653866294c5369bd0b9f1bfe3680d6bdbbc7c1a1776be8d5874377', 'timestamp': 1744800003.4024556}
2025-04-16 16:10:03 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: anup_raj_p_2004-02-26_aadhaar_860097240509
2025-04-16 16:10:03 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 0.8452 seconds
2025-04-16 16:10:03 [INFO] w3_utils.upload_to_filebase:140 - Uploading file C04RL2MN8Q.json to storage...
2025-04-16 16:10:05 [INFO] .None:0 - ACCESS: /encrypt | User: anup_raj_p | Token: C04RL2MN8Q | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/C04RL2MN8Q.json
2025-04-16 16:10:05 [DEBUG] app.encrypt:143 - Returning transaction hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:10:05 [INFO] app.encrypt:152 - Final transaction hash being returned: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:10:05 [DEBUG] app.after_request:35 - Request 8de3901e4bd779a9 processed in 2.6765 seconds
2025-04-16 16:10:20 [DEBUG] app.after_request:35 - Request a0311fc042589995 processed in 0.0002 seconds
2025-04-16 16:10:20 [INFO] token_auth.verify_token:223 - Verifying token: C04RL2MN8Q
2025-04-16 16:10:20 [DEBUG] token_auth.log_verification_attempt:299 - Verification attempt logged for token: C04RL2MN8Q
2025-04-16 16:10:20 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:10:20 [DEBUG] w3_utils.get_token_transaction_details:441 - Attempting to get transaction details for hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:10:20 [DEBUG] w3_utils.get_token_transaction_details:455 - Calling web3.eth.get_transaction...
2025-04-16 16:10:20 [WARNING] w3_utils.get_token_transaction_details:486 - Error getting transaction details: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.
2025-04-16 16:10:20 [DEBUG] w3_utils.get_token_transaction_details:487 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 456, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.

2025-04-16 16:10:20 [DEBUG] token_auth.verify_token:241 - Blockchain details for token C04RL2MN8Q: {'tx_hash': '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. It may be on a different network or may be invalid.'}
2025-04-16 16:10:20 [WARNING] token_auth.verify_token:246 - Token C04RL2MN8Q exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. It may be on a different network or may be invalid.
2025-04-16 16:10:20 [INFO] w3_utils.verify_token_on_blockchain:523 - Verifying token on blockchain: C04RL2MN8Q
2025-04-16 16:10:20 [INFO] w3_utils.verify_token_on_blockchain:543 - Verifying token C04RL2MN8Q directly on the blockchain
2025-04-16 16:10:20 [INFO] w3_utils.call_contract_with_timeout:552 - Calling verifyToken function on smart contract for token: C04RL2MN8Q
2025-04-16 16:10:21 [ERROR] w3_utils.call_contract_with_timeout:564 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:10:21 [DEBUG] w3_utils.call_contract_with_timeout:565 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 555, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:10:21 [WARNING] w3_utils.call_contract_with_timeout:568 - Falling back to local verification due to blockchain error
2025-04-16 16:10:21 [INFO] w3_utils.call_contract_with_timeout:584 - Token C04RL2MN8Q found in tokens.json (fallback)
2025-04-16 16:10:21 [INFO] w3_utils.verify_token_on_blockchain:598 - Token C04RL2MN8Q is valid
2025-04-16 16:10:21 [DEBUG] token_auth.verify_token:260 - Token verification completed in 1.6921 seconds
2025-04-16 16:10:21 [INFO] token_auth.verify_token:263 - Token C04RL2MN8Q is valid
2025-04-16 16:10:21 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: C04RL2MN8Q | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:10:21 [DEBUG] app.after_request:35 - Request 15c9543a6ddf7c20 processed in 1.6958 seconds
2025-04-16 16:15:03 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:15:04 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:15:04 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:15:04 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:15:05 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:15:05 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:15:06 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:15:06 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:15:06 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:15:06 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:15:08 [INFO] w3_utils.<module>:29 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:15:08 [INFO] w3_utils.<module>:53 - Loading contract ABI...
2025-04-16 16:15:08 [INFO] w3_utils.<module>:85 - Initializing contract...
2025-04-16 16:15:08 [INFO] w3_utils.<module>:109 - Initializing Filebase S3 client...
2025-04-16 16:15:09 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:19:13 [DEBUG] app.after_request:35 - Request 3ce2511b7bb9b594 processed in 0.0201 seconds
2025-04-16 16:19:13 [INFO] token_auth.verify_token:223 - Verifying token: C04RL2MN8Q
2025-04-16 16:19:13 [DEBUG] token_auth.log_verification_attempt:336 - Verification attempt logged for token: C04RL2MN8Q
2025-04-16 16:19:13 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:19:13 [DEBUG] w3_utils.get_token_transaction_details:484 - Attempting to get transaction details for hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:19:14 [DEBUG] w3_utils.get_token_transaction_details:510 - Calling web3.eth.get_transaction...
2025-04-16 16:19:14 [WARNING] w3_utils.get_token_transaction_details:548 - Error getting transaction details: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.
2025-04-16 16:19:14 [DEBUG] w3_utils.get_token_transaction_details:549 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 511, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.

2025-04-16 16:19:14 [DEBUG] token_auth.verify_token:241 - Blockchain details for token C04RL2MN8Q: {'tx_hash': '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:19:14 [WARNING] token_auth.verify_token:245 - Token C04RL2MN8Q needs blockchain record regeneration
2025-04-16 16:19:14 [INFO] w3_utils.regenerate_blockchain_record:361 - Regenerating blockchain record for token: C04RL2MN8Q
2025-04-16 16:19:14 [INFO] w3_utils.regenerate_blockchain_record:364 - Existing transaction hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:19:14 [WARNING] w3_utils.regenerate_blockchain_record:377 - Existing transaction hash is invalid: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.
2025-04-16 16:19:14 [INFO] w3_utils.regenerate_blockchain_record:380 - Generating new blockchain record
2025-04-16 16:19:14 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: C04RL2MN8Q
2025-04-16 16:19:14 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: C04RL2MN8Q
2025-04-16 16:19:14 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 16:19:15 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 16:19:15 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:19:15 [ERROR] w3_utils.regenerate_blockchain_record:389 - Failed to regenerate blockchain record
2025-04-16 16:19:15 [ERROR] token_auth.verify_token:278 - Failed to regenerate blockchain record for token C04RL2MN8Q
2025-04-16 16:19:15 [WARNING] token_auth.verify_token:283 - Token C04RL2MN8Q exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.
2025-04-16 16:19:15 [INFO] w3_utils.verify_token_on_blockchain:590 - Verifying token on blockchain: C04RL2MN8Q
2025-04-16 16:19:15 [INFO] w3_utils.verify_token_on_blockchain:610 - Verifying token C04RL2MN8Q directly on the blockchain
2025-04-16 16:19:15 [INFO] w3_utils.call_contract_with_timeout:619 - Calling verifyToken function on smart contract for token: C04RL2MN8Q
2025-04-16 16:19:16 [ERROR] w3_utils.call_contract_with_timeout:631 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:19:16 [DEBUG] w3_utils.call_contract_with_timeout:632 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 622, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:19:16 [WARNING] w3_utils.call_contract_with_timeout:635 - Falling back to local verification due to blockchain error
2025-04-16 16:19:16 [INFO] w3_utils.call_contract_with_timeout:651 - Token C04RL2MN8Q found in tokens.json (fallback)
2025-04-16 16:19:16 [INFO] w3_utils.verify_token_on_blockchain:665 - Token C04RL2MN8Q is valid
2025-04-16 16:19:16 [DEBUG] token_auth.verify_token:297 - Token verification completed in 2.7126 seconds
2025-04-16 16:19:16 [INFO] token_auth.verify_token:300 - Token C04RL2MN8Q is valid
2025-04-16 16:19:16 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: C04RL2MN8Q | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:19:16 [DEBUG] app.after_request:35 - Request 0a35b2aed1549be0 processed in 2.7219 seconds
2025-04-16 16:19:19 [DEBUG] app.after_request:35 - Request fd751b4330140457 processed in 0.0002 seconds
2025-04-16 16:19:19 [INFO] token_auth.verify_token:223 - Verifying token: C04RL2MN8Q
2025-04-16 16:19:19 [DEBUG] token_auth.log_verification_attempt:336 - Verification attempt logged for token: C04RL2MN8Q
2025-04-16 16:19:19 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:19:19 [DEBUG] w3_utils.get_token_transaction_details:484 - Attempting to get transaction details for hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:19:19 [DEBUG] w3_utils.get_token_transaction_details:510 - Calling web3.eth.get_transaction...
2025-04-16 16:19:19 [WARNING] w3_utils.get_token_transaction_details:548 - Error getting transaction details: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.
2025-04-16 16:19:19 [DEBUG] w3_utils.get_token_transaction_details:549 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 511, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.

2025-04-16 16:19:19 [DEBUG] token_auth.verify_token:241 - Blockchain details for token C04RL2MN8Q: {'tx_hash': '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:19:20 [WARNING] token_auth.verify_token:245 - Token C04RL2MN8Q needs blockchain record regeneration
2025-04-16 16:19:20 [INFO] w3_utils.regenerate_blockchain_record:361 - Regenerating blockchain record for token: C04RL2MN8Q
2025-04-16 16:19:20 [INFO] w3_utils.regenerate_blockchain_record:364 - Existing transaction hash: 0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f
2025-04-16 16:19:20 [WARNING] w3_utils.regenerate_blockchain_record:377 - Existing transaction hash is invalid: Transaction with hash: '0x9a53ebd5771d2b2a120997f81044e61dbe6780768ea0482cdacdf76244b77c0f' not found.
2025-04-16 16:19:20 [INFO] w3_utils.regenerate_blockchain_record:380 - Generating new blockchain record
2025-04-16 16:19:20 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: C04RL2MN8Q
2025-04-16 16:19:20 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: C04RL2MN8Q
2025-04-16 16:19:20 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 16:19:20 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 16:19:20 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:19:20 [ERROR] w3_utils.regenerate_blockchain_record:389 - Failed to regenerate blockchain record
2025-04-16 16:19:20 [ERROR] token_auth.verify_token:278 - Failed to regenerate blockchain record for token C04RL2MN8Q
2025-04-16 16:19:20 [WARNING] token_auth.verify_token:283 - Token C04RL2MN8Q exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.
2025-04-16 16:19:20 [INFO] w3_utils.verify_token_on_blockchain:590 - Verifying token on blockchain: C04RL2MN8Q
2025-04-16 16:19:20 [INFO] w3_utils.verify_token_on_blockchain:610 - Verifying token C04RL2MN8Q directly on the blockchain
2025-04-16 16:19:20 [INFO] w3_utils.call_contract_with_timeout:619 - Calling verifyToken function on smart contract for token: C04RL2MN8Q
2025-04-16 16:19:21 [ERROR] w3_utils.call_contract_with_timeout:631 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:19:21 [DEBUG] w3_utils.call_contract_with_timeout:632 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 622, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:19:21 [WARNING] w3_utils.call_contract_with_timeout:635 - Falling back to local verification due to blockchain error
2025-04-16 16:19:21 [INFO] w3_utils.call_contract_with_timeout:651 - Token C04RL2MN8Q found in tokens.json (fallback)
2025-04-16 16:19:21 [INFO] w3_utils.verify_token_on_blockchain:665 - Token C04RL2MN8Q is valid
2025-04-16 16:19:21 [DEBUG] token_auth.verify_token:297 - Token verification completed in 1.9367 seconds
2025-04-16 16:19:21 [INFO] token_auth.verify_token:300 - Token C04RL2MN8Q is valid
2025-04-16 16:19:21 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: C04RL2MN8Q | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:19:21 [DEBUG] app.after_request:35 - Request d23c533690deb0cb processed in 1.9432 seconds
2025-04-16 16:22:46 [DEBUG] app.after_request:35 - Request b104b3694b943cf7 processed in 0.0141 seconds
2025-04-16 16:22:46 [INFO] token_auth.verify_token:223 - Verifying token: 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7
2025-04-16 16:22:46 [DEBUG] token_auth.log_verification_attempt:336 - Verification attempt logged for token: 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7
2025-04-16 16:22:46 [DEBUG] token_auth.verify_token:237 - Token exists in database: False
2025-04-16 16:22:46 [DEBUG] token_auth.verify_token:241 - Blockchain details for token 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: {'error_message': 'No transaction hash found for this token. The token may not have been stored on the blockchain yet.'}
2025-04-16 16:22:46 [INFO] w3_utils.verify_token_on_blockchain:590 - Verifying token on blockchain: 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7
2025-04-16 16:22:46 [INFO] w3_utils.verify_token_on_blockchain:610 - Verifying token 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7 directly on the blockchain
2025-04-16 16:22:46 [INFO] w3_utils.call_contract_with_timeout:619 - Calling verifyToken function on smart contract for token: 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7
2025-04-16 16:22:47 [ERROR] w3_utils.call_contract_with_timeout:631 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:22:47 [DEBUG] w3_utils.call_contract_with_timeout:632 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 622, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:22:47 [WARNING] w3_utils.call_contract_with_timeout:635 - Falling back to local verification due to blockchain error
2025-04-16 16:22:47 [INFO] w3_utils.call_contract_with_timeout:654 - Token 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7 not found in any records
2025-04-16 16:22:47 [INFO] w3_utils.verify_token_on_blockchain:665 - Token 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7 is invalid
2025-04-16 16:22:47 [DEBUG] token_auth.verify_token:297 - Token verification completed in 1.1813 seconds
2025-04-16 16:22:47 [INFO] token_auth.verify_token:302 - Token 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7 is invalid
2025-04-16 16:22:47 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7 | IP: 127.0.0.1 | Status: invalid | Details: Token validation failed
2025-04-16 16:22:47 [DEBUG] app.after_request:35 - Request a1a8810978c1d8aa processed in 1.2031 seconds
2025-04-16 16:23:29 [DEBUG] app.after_request:35 - Request 9a0133e34b4f7118 processed in 0.0007 seconds
2025-04-16 16:23:29 [DEBUG] token_auth.create_user_key:40 - Created user key: harshitha_2021-02-26_aadhaar_856165165011505
2025-04-16 16:23:29 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: harshitha_2021-02-26_aadhaar_856165165011505
2025-04-16 16:23:29 [DEBUG] token_auth.generate_unique_token:20 - Generated token: BWM7YWS0CH
2025-04-16 16:23:29 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key harshitha_2021-02-26_aadhaar_856165165011505: BWM7YWS0CH
2025-04-16 16:23:29 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: BWM7YWS0CH
2025-04-16 16:23:29 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: BWM7YWS0CH
2025-04-16 16:23:30 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 16:23:30 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 16:23:30 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:23:30 [INFO] token_auth.get_or_generate_token:102 - Generated realistic transaction hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:30 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token BWM7YWS0CH: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:30 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'BWM7YWS0CH', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/BWM7YWS0CH.json', 'txn_hash': '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a20226861727368697468615f323032312d30322d32365f616164686161725f383536313635313635303131353035222c2022696174223a20313734343830303831307d.95d16cb9e10b5dfca1ac17c54c86ee6b06b30897bce4c4f7780bc6fa0005ea6a', 'timestamp': 1744800810.588776}
2025-04-16 16:23:30 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: harshitha_2021-02-26_aadhaar_856165165011505
2025-04-16 16:23:30 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 0.8474 seconds
2025-04-16 16:23:30 [INFO] w3_utils.upload_to_filebase:140 - Uploading file BWM7YWS0CH.json to storage...
2025-04-16 16:23:32 [INFO] .None:0 - ACCESS: /encrypt | User: harshitha | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/BWM7YWS0CH.json
2025-04-16 16:23:32 [DEBUG] app.encrypt:143 - Returning transaction hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:32 [INFO] app.encrypt:152 - Final transaction hash being returned: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:32 [DEBUG] app.after_request:35 - Request 2ff9c07a453c8c50 processed in 2.3930 seconds
2025-04-16 16:23:48 [DEBUG] app.after_request:35 - Request 1cb328381bfe1f91 processed in 0.0545 seconds
2025-04-16 16:23:53 [INFO] token_auth.verify_token:223 - Verifying token: BWM7YWS0CH
2025-04-16 16:23:53 [DEBUG] token_auth.log_verification_attempt:336 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:23:53 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:23:53 [DEBUG] w3_utils.get_token_transaction_details:484 - Attempting to get transaction details for hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:53 [DEBUG] w3_utils.get_token_transaction_details:510 - Calling web3.eth.get_transaction...
2025-04-16 16:23:53 [WARNING] w3_utils.get_token_transaction_details:548 - Error getting transaction details: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.
2025-04-16 16:23:53 [DEBUG] w3_utils.get_token_transaction_details:549 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 511, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.

2025-04-16 16:23:53 [DEBUG] token_auth.verify_token:241 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:23:53 [WARNING] token_auth.verify_token:245 - Token BWM7YWS0CH needs blockchain record regeneration
2025-04-16 16:23:53 [INFO] w3_utils.regenerate_blockchain_record:361 - Regenerating blockchain record for token: BWM7YWS0CH
2025-04-16 16:23:53 [INFO] w3_utils.regenerate_blockchain_record:364 - Existing transaction hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:23:53 [WARNING] w3_utils.regenerate_blockchain_record:377 - Existing transaction hash is invalid: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.
2025-04-16 16:23:53 [INFO] w3_utils.regenerate_blockchain_record:380 - Generating new blockchain record
2025-04-16 16:23:53 [INFO] w3_utils.store_token_on_blockchain:286 - Storing token on blockchain: BWM7YWS0CH
2025-04-16 16:23:53 [DEBUG] w3_utils.store_token_on_blockchain:311 - Building transaction for token: BWM7YWS0CH
2025-04-16 16:23:54 [DEBUG] w3_utils.store_token_on_blockchain:320 - Signing transaction...
2025-04-16 16:23:54 [DEBUG] w3_utils.store_token_on_blockchain:323 - Sending transaction to network...
2025-04-16 16:23:54 [DEBUG] w3_utils.store_token_on_blockchain:346 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 324, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:23:54 [ERROR] w3_utils.regenerate_blockchain_record:389 - Failed to regenerate blockchain record
2025-04-16 16:23:54 [ERROR] token_auth.verify_token:278 - Failed to regenerate blockchain record for token BWM7YWS0CH
2025-04-16 16:23:54 [WARNING] token_auth.verify_token:283 - Token BWM7YWS0CH exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.
2025-04-16 16:23:54 [INFO] w3_utils.verify_token_on_blockchain:590 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:23:54 [INFO] w3_utils.verify_token_on_blockchain:610 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:23:54 [INFO] w3_utils.call_contract_with_timeout:619 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:23:55 [ERROR] w3_utils.call_contract_with_timeout:631 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:23:55 [DEBUG] w3_utils.call_contract_with_timeout:632 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 622, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:23:55 [WARNING] w3_utils.call_contract_with_timeout:635 - Falling back to local verification due to blockchain error
2025-04-16 16:23:55 [INFO] w3_utils.call_contract_with_timeout:651 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:23:55 [INFO] w3_utils.verify_token_on_blockchain:665 - Token BWM7YWS0CH is valid
2025-04-16 16:23:55 [DEBUG] token_auth.verify_token:297 - Token verification completed in 2.1287 seconds
2025-04-16 16:23:55 [INFO] token_auth.verify_token:300 - Token BWM7YWS0CH is valid
2025-04-16 16:23:55 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:23:55 [DEBUG] app.after_request:35 - Request d4b34175f2d47710 processed in 2.1317 seconds
2025-04-16 16:28:32 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:28:33 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 16:28:33 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 16:28:34 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 16:28:35 [INFO] app.<module>:345 - Starting PII Authenticator backend server
2025-04-16 16:29:36 [DEBUG] app.after_request:35 - Request 20e915de612f2ef0 processed in 0.0002 seconds
2025-04-16 16:29:36 [DEBUG] token_auth.create_user_key:40 - Created user key: uvsfjb_2006-05-23_aadhaar_8958456498056
2025-04-16 16:29:36 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: uvsfjb_2006-05-23_aadhaar_8958456498056
2025-04-16 16:29:36 [DEBUG] token_auth.generate_unique_token:20 - Generated token: H1Y8FXGM8W
2025-04-16 16:29:36 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key uvsfjb_2006-05-23_aadhaar_8958456498056: H1Y8FXGM8W
2025-04-16 16:29:36 [INFO] w3_utils.store_token_on_blockchain:321 - Storing token on blockchain: H1Y8FXGM8W
2025-04-16 16:29:36 [DEBUG] w3_utils.store_token_on_blockchain:346 - Building transaction for token: H1Y8FXGM8W
2025-04-16 16:29:37 [DEBUG] w3_utils.store_token_on_blockchain:355 - Signing transaction...
2025-04-16 16:29:37 [DEBUG] w3_utils.store_token_on_blockchain:358 - Sending transaction to network...
2025-04-16 16:29:37 [DEBUG] w3_utils.store_token_on_blockchain:381 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 359, in store_token_on_blockchain
    tx_hash = web3.eth.send_raw_transaction(signed_tx.raw_transaction)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 396, in send_raw_transaction
    return self._send_raw_transaction(transaction)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 198, in formatted_response
    validate_rpc_response_and_raise_if_error(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        response,
        ^^^^^^^^^
    ...<3 lines>...
        params=params,
        ^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\validation.py", line 401, in validate_rpc_response_and_raise_if_error
    raise web3_rpc_error
web3.exceptions.Web3RPCError: {'code': -32603, 'message': 'replacement transaction underpriced'}

2025-04-16 16:29:37 [INFO] token_auth.get_or_generate_token:102 - Generated realistic transaction hash: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:37 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token H1Y8FXGM8W: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:37 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'H1Y8FXGM8W', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/H1Y8FXGM8W.json', 'txn_hash': '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a2022757673666a625f323030362d30352d32335f616164686161725f38393538343536343938303536222c2022696174223a20313734343830313137377d.f87de82d6a2658318f7395584619c6ca9cb1661e5521680f9ebfb90e38beffa4', 'timestamp': 1744801177.2226985}
2025-04-16 16:29:37 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: uvsfjb_2006-05-23_aadhaar_8958456498056
2025-04-16 16:29:37 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 0.6657 seconds
2025-04-16 16:29:37 [INFO] w3_utils.upload_to_filebase:175 - Uploading file H1Y8FXGM8W.json to storage...
2025-04-16 16:29:38 [INFO] .None:0 - ACCESS: /encrypt | User: uvsfjb | Token: H1Y8FXGM8W | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/H1Y8FXGM8W.json
2025-04-16 16:29:38 [DEBUG] app.encrypt:143 - Returning transaction hash: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:38 [INFO] app.encrypt:152 - Final transaction hash being returned: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:38 [DEBUG] app.after_request:35 - Request 5bc01ceb1f4cb6fc processed in 2.3752 seconds
2025-04-16 16:29:51 [DEBUG] app.after_request:35 - Request 1a46ecb59f52d400 processed in 0.0101 seconds
2025-04-16 16:29:51 [INFO] token_auth.verify_token:223 - Verifying token: H1Y8FXGM8W
2025-04-16 16:29:51 [DEBUG] token_auth.log_verification_attempt:363 - Verification attempt logged for token: H1Y8FXGM8W
2025-04-16 16:29:51 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:29:51 [DEBUG] w3_utils.get_token_transaction_details:578 - Attempting to get transaction details for hash: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:51 [DEBUG] w3_utils.get_token_transaction_details:604 - Calling web3.eth.get_transaction...
2025-04-16 16:29:51 [WARNING] w3_utils.get_token_transaction_details:642 - Error getting transaction details: Transaction with hash: '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36' not found.
2025-04-16 16:29:51 [DEBUG] w3_utils.get_token_transaction_details:643 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 605, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36' not found.

2025-04-16 16:29:51 [DEBUG] token_auth.verify_token:241 - Blockchain details for token H1Y8FXGM8W: {'tx_hash': '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:29:51 [WARNING] token_auth.verify_token:249 - Token H1Y8FXGM8W needs blockchain record regeneration
2025-04-16 16:29:51 [INFO] w3_utils.regenerate_blockchain_record:396 - Regenerating blockchain record for token: H1Y8FXGM8W
2025-04-16 16:29:52 [INFO] w3_utils.regenerate_blockchain_record:417 - Existing transaction hash: 0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36
2025-04-16 16:29:52 [WARNING] w3_utils.regenerate_blockchain_record:430 - Existing transaction hash is invalid: Transaction with hash: '0x29ceab89bb8155afb0e753470cf82bc2a85a031498ca7f33b2af6562967ccb36' not found.
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:431 - Will attempt to create a new blockchain record for token: H1Y8FXGM8W
2025-04-16 16:29:52 [INFO] w3_utils.regenerate_blockchain_record:434 - Generating new blockchain record
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:438 - Building transaction for token: H1Y8FXGM8W
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:442 - Current nonce for account 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: 19
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:452 - Signing transaction...
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:455 - Sending transaction to network...
2025-04-16 16:29:52 [INFO] w3_utils.regenerate_blockchain_record:459 - Transaction sent: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:29:52 [DEBUG] w3_utils.regenerate_blockchain_record:463 - Waiting for transaction receipt with timeout: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:02 [WARNING] w3_utils.regenerate_blockchain_record:475 - Timeout waiting for receipt, but transaction was sent: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:02 [WARNING] w3_utils.regenerate_blockchain_record:476 - Error: Transaction HexBytes('0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd') is not in the chain after 10 seconds
2025-04-16 16:30:02 [INFO] token_auth.verify_token:277 - Successfully regenerated blockchain record for token H1Y8FXGM8W with hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:03 [DEBUG] w3_utils.get_token_transaction_details:578 - Attempting to get transaction details for hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:03 [DEBUG] w3_utils.get_token_transaction_details:604 - Calling web3.eth.get_transaction...
2025-04-16 16:30:03 [DEBUG] w3_utils.get_token_transaction_details:625 - Getting transaction receipt...
2025-04-16 16:30:03 [WARNING] w3_utils.get_token_transaction_details:642 - Error getting transaction details: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.
2025-04-16 16:30:03 [DEBUG] w3_utils.get_token_transaction_details:643 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 626, in get_token_transaction_details
    receipt = web3.eth.get_transaction_receipt(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 493, in get_transaction_receipt
    return self._transaction_receipt(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.

2025-04-16 16:30:03 [DEBUG] token_auth.verify_token:288 - Updated blockchain details for token H1Y8FXGM8W: {'tx_hash': '63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:30:03 [WARNING] token_auth.verify_token:310 - Token H1Y8FXGM8W exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.
2025-04-16 16:30:03 [INFO] w3_utils.verify_token_on_blockchain:684 - Verifying token on blockchain: H1Y8FXGM8W
2025-04-16 16:30:03 [INFO] w3_utils.verify_token_on_blockchain:704 - Verifying token H1Y8FXGM8W directly on the blockchain
2025-04-16 16:30:03 [INFO] w3_utils.call_contract_with_timeout:713 - Calling verifyToken function on smart contract for token: H1Y8FXGM8W
2025-04-16 16:30:04 [ERROR] w3_utils.call_contract_with_timeout:725 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:30:05 [DEBUG] w3_utils.call_contract_with_timeout:726 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 716, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:30:05 [WARNING] w3_utils.call_contract_with_timeout:729 - Falling back to local verification due to blockchain error
2025-04-16 16:30:05 [INFO] w3_utils.call_contract_with_timeout:745 - Token H1Y8FXGM8W found in tokens.json (fallback)
2025-04-16 16:30:05 [INFO] w3_utils.verify_token_on_blockchain:759 - Token H1Y8FXGM8W is valid
2025-04-16 16:30:05 [DEBUG] token_auth.verify_token:324 - Token verification completed in 14.3152 seconds
2025-04-16 16:30:05 [INFO] token_auth.verify_token:327 - Token H1Y8FXGM8W is valid
2025-04-16 16:30:05 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: H1Y8FXGM8W | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:30:05 [DEBUG] app.after_request:35 - Request 4075002e1f914825 processed in 14.3652 seconds
2025-04-16 16:30:10 [DEBUG] app.after_request:35 - Request fd636be21ff00736 processed in 0.0002 seconds
2025-04-16 16:30:10 [INFO] token_auth.verify_token:223 - Verifying token: H1Y8FXGM8W
2025-04-16 16:30:10 [DEBUG] token_auth.log_verification_attempt:363 - Verification attempt logged for token: H1Y8FXGM8W
2025-04-16 16:30:10 [DEBUG] token_auth.verify_token:237 - Token exists in database: True
2025-04-16 16:30:10 [DEBUG] w3_utils.get_token_transaction_details:578 - Attempting to get transaction details for hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:604 - Calling web3.eth.get_transaction...
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:625 - Getting transaction receipt...
2025-04-16 16:30:11 [WARNING] w3_utils.get_token_transaction_details:642 - Error getting transaction details: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:643 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 626, in get_token_transaction_details
    receipt = web3.eth.get_transaction_receipt(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 493, in get_transaction_receipt
    return self._transaction_receipt(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.

2025-04-16 16:30:11 [DEBUG] token_auth.verify_token:241 - Blockchain details for token H1Y8FXGM8W: {'tx_hash': '63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:30:11 [WARNING] token_auth.verify_token:249 - Token H1Y8FXGM8W needs blockchain record regeneration
2025-04-16 16:30:11 [INFO] w3_utils.regenerate_blockchain_record:396 - Regenerating blockchain record for token: H1Y8FXGM8W
2025-04-16 16:30:11 [INFO] w3_utils.regenerate_blockchain_record:417 - Existing transaction hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:11 [INFO] w3_utils.regenerate_blockchain_record:427 - Existing transaction hash is valid: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:11 [INFO] token_auth.verify_token:277 - Successfully regenerated blockchain record for token H1Y8FXGM8W with hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:578 - Attempting to get transaction details for hash: 63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:604 - Calling web3.eth.get_transaction...
2025-04-16 16:30:11 [DEBUG] w3_utils.get_token_transaction_details:625 - Getting transaction receipt...
2025-04-16 16:30:12 [WARNING] w3_utils.get_token_transaction_details:642 - Error getting transaction details: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.
2025-04-16 16:30:12 [DEBUG] w3_utils.get_token_transaction_details:643 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 626, in get_token_transaction_details
    receipt = web3.eth.get_transaction_receipt(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 493, in get_transaction_receipt
    return self._transaction_receipt(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.

2025-04-16 16:30:12 [DEBUG] token_auth.verify_token:288 - Updated blockchain details for token H1Y8FXGM8W: {'tx_hash': '63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0x63ca9a64f82d2e1142292c3d5b9fcb73fe1f5170ec5b0f6687e6b255066406cd' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:30:12 [WARNING] token_auth.verify_token:310 - Token H1Y8FXGM8W exists in database but blockchain verification failed: This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.
2025-04-16 16:30:12 [INFO] w3_utils.verify_token_on_blockchain:684 - Verifying token on blockchain: H1Y8FXGM8W
2025-04-16 16:30:12 [INFO] w3_utils.verify_token_on_blockchain:704 - Verifying token H1Y8FXGM8W directly on the blockchain
2025-04-16 16:30:12 [INFO] w3_utils.call_contract_with_timeout:713 - Calling verifyToken function on smart contract for token: H1Y8FXGM8W
2025-04-16 16:30:12 [ERROR] w3_utils.call_contract_with_timeout:725 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:30:12 [DEBUG] w3_utils.call_contract_with_timeout:726 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 716, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:30:12 [WARNING] w3_utils.call_contract_with_timeout:729 - Falling back to local verification due to blockchain error
2025-04-16 16:30:12 [INFO] w3_utils.call_contract_with_timeout:745 - Token H1Y8FXGM8W found in tokens.json (fallback)
2025-04-16 16:30:13 [INFO] w3_utils.verify_token_on_blockchain:759 - Token H1Y8FXGM8W is valid
2025-04-16 16:30:13 [DEBUG] token_auth.verify_token:324 - Token verification completed in 2.2827 seconds
2025-04-16 16:30:13 [INFO] token_auth.verify_token:327 - Token H1Y8FXGM8W is valid
2025-04-16 16:30:13 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: H1Y8FXGM8W | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:30:13 [DEBUG] app.after_request:35 - Request c0c36dda062b909d processed in 2.2968 seconds
2025-04-16 16:32:54 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:32:54 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 16:32:54 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 16:32:54 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 16:32:55 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 16:33:52 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:33:53 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 16:33:53 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 16:33:53 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 16:33:53 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 16:42:04 [DEBUG] app.after_request:35 - Request 8148d87f29e6a5f9 processed in 0.0102 seconds
2025-04-16 16:42:04 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:42:04 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:42:04 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:42:04 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:42:04 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:42:04 [WARNING] w3_utils.get_token_transaction_details:675 - Error getting transaction details: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.
2025-04-16 16:42:05 [DEBUG] w3_utils.get_token_transaction_details:676 - Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 638, in get_token_transaction_details
    tx = web3.eth.get_transaction(tx_hash)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\eth\eth.py", line 325, in get_transaction
    return self._get_transaction(transaction_hash)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\module.py", line 112, in caller
    result = w3.manager.request_blocking(
        method_str, params, error_formatters, null_result_formatters
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 232, in request_blocking
    return self.formatted_response(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        response, params, error_formatters, null_result_formatters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\manager.py", line 211, in formatted_response
    apply_null_result_formatters(null_result_formatters, response, params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\formatters.py", line 158, in apply_null_result_formatters
    formatted_resp = pipe(params, null_result_formatters)
  File "cytoolz\\functoolz.pyx", line 685, in cytoolz.functoolz.pipe
  File "cytoolz\\functoolz.pyx", line 660, in cytoolz.functoolz.c_pipe
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\_utils\method_formatters.py", line 1108, in raise_transaction_not_found
    raise TransactionNotFound(message)
web3.exceptions.TransactionNotFound: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.

2025-04-16 16:42:05 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9', 'network': 'Sepolia Testnet', 'status': 'unknown', 'error': "Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.", 'error_message': 'This transaction hash does not exist on the Sepolia testnet. The system will attempt to regenerate the blockchain record.', 'needs_regeneration': True}
2025-04-16 16:42:05 [WARNING] token_auth.verify_token:279 - Token BWM7YWS0CH needs blockchain record regeneration
2025-04-16 16:42:05 [INFO] w3_utils.regenerate_blockchain_record:429 - Regenerating blockchain record for token: BWM7YWS0CH
2025-04-16 16:42:05 [INFO] w3_utils.regenerate_blockchain_record:450 - Existing transaction hash: 0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9
2025-04-16 16:42:05 [WARNING] w3_utils.regenerate_blockchain_record:463 - Existing transaction hash is invalid: Transaction with hash: '0xb70ef46789d831be9c7b1a31044a654fcf539441333b174a875b0a53a2787be9' not found.
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:464 - Will attempt to create a new blockchain record for token: BWM7YWS0CH
2025-04-16 16:42:05 [INFO] w3_utils.regenerate_blockchain_record:467 - Generating new blockchain record
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:471 - Building transaction for token: BWM7YWS0CH
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:475 - Current nonce for account 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: 20
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:485 - Signing transaction...
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:488 - Sending transaction to network...
2025-04-16 16:42:05 [INFO] w3_utils.regenerate_blockchain_record:492 - Transaction sent: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:05 [DEBUG] w3_utils.regenerate_blockchain_record:496 - Waiting for transaction receipt with timeout: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:13 [INFO] w3_utils.regenerate_blockchain_record:498 - Receipt received: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:13 [INFO] w3_utils.regenerate_blockchain_record:502 - Transaction successful: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:13 [INFO] token_auth.verify_token:307 - Successfully regenerated blockchain record for token BWM7YWS0CH with hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:13 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:42:13 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:42:13 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:42:14 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:42:14 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:42:14 [DEBUG] token_auth.verify_token:318 - Updated blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:42:14 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:42:14 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:42:14 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:42:15 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:42:15 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:42:15 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:42:15 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:42:15 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:42:15 [DEBUG] token_auth.verify_token:354 - Token verification completed in 10.9480 seconds
2025-04-16 16:42:15 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:42:15 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:42:15 [DEBUG] app.after_request:35 - Request 7b831963f38b7a89 processed in 10.9632 seconds
2025-04-16 16:44:22 [DEBUG] app.after_request:35 - Request f9b3d9e704e74d86 processed in 0.0025 seconds
2025-04-16 16:44:22 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:44:22 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:44:22 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:44:22 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:44:23 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:44:23 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:44:23 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:44:23 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:44:23 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:44:23 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:44:23 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:44:23 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:44:24 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:44:24 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:44:24 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:44:24 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:44:24 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:44:24 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.9244 seconds
2025-04-16 16:44:24 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:44:24 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:44:24 [DEBUG] app.after_request:35 - Request 296225bfd9765069 processed in 1.9282 seconds
2025-04-16 16:45:18 [DEBUG] app.after_request:35 - Request 3d1bab320d019a91 processed in 0.0026 seconds
2025-04-16 16:45:18 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:45:18 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:45:18 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:45:18 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:45:18 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:45:18 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:45:18 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:45:18 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:45:18 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:45:18 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:45:18 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:45:18 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:45:19 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:45:19 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:45:19 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:45:19 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:45:19 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:45:19 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.7432 seconds
2025-04-16 16:45:19 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:45:19 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:45:19 [DEBUG] app.after_request:35 - Request f05e6db6a7d9cafe processed in 1.7534 seconds
2025-04-16 16:50:02 [DEBUG] app.after_request:35 - Request fe75ed12fa2e641c processed in 0.0114 seconds
2025-04-16 16:50:02 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:50:02 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:50:02 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:50:02 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:50:04 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:50:04 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:50:04 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:50:04 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:50:04 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:50:04 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:50:04 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:50:04 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:50:05 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:50:05 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:50:05 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:50:05 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:50:05 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:50:05 [DEBUG] token_auth.verify_token:354 - Token verification completed in 3.2046 seconds
2025-04-16 16:50:05 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:50:05 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:50:05 [DEBUG] app.after_request:35 - Request 7d6ec7a0b3695c6c processed in 3.2183 seconds
2025-04-16 16:51:01 [DEBUG] app.after_request:35 - Request ea692a2ccc131deb processed in 0.0002 seconds
2025-04-16 16:51:01 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:51:01 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:51:01 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:51:01 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:51:01 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:51:01 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:51:02 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:51:02 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:51:02 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:51:02 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:51:02 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:51:02 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:51:03 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:51:03 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:51:03 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:51:03 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:51:03 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:51:03 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.7412 seconds
2025-04-16 16:51:03 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:51:03 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:51:03 [DEBUG] app.after_request:35 - Request 744102e79f8df0b8 processed in 1.7466 seconds
2025-04-16 16:51:35 [DEBUG] app.after_request:35 - Request 15277c5eab302215 processed in 0.0003 seconds
2025-04-16 16:51:35 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:51:35 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:51:35 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:51:35 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:51:36 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:51:36 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:51:36 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:51:36 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:51:36 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:51:36 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:51:36 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:51:36 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:51:37 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:51:37 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:51:37 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:51:37 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:51:37 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:51:37 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.8529 seconds
2025-04-16 16:51:37 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:51:37 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:51:37 [DEBUG] app.after_request:35 - Request eecc5021af194caf processed in 1.8594 seconds
2025-04-16 16:53:03 [DEBUG] app.after_request:35 - Request bfac46c51291c358 processed in 0.0003 seconds
2025-04-16 16:53:03 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 16:53:03 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 16:53:03 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:53:03 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 16:53:04 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:53:04 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:53:04 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 16:53:04 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:53:04 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:53:04 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 16:53:04 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 16:53:04 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 16:53:05 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:53:05 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:53:05 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:53:05 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 16:53:05 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 16:53:05 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.8238 seconds
2025-04-16 16:53:05 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 16:53:05 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:53:05 [DEBUG] app.after_request:35 - Request 261c22c7be7a7bf7 processed in 1.8266 seconds
2025-04-16 16:53:41 [DEBUG] app.after_request:35 - Request 4539c7fd2c0a8722 processed in 0.0001 seconds
2025-04-16 16:53:41 [DEBUG] token_auth.create_user_key:40 - Created user key: kappe_2004-02-26_aadhaar_4846519840154
2025-04-16 16:53:41 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: kappe_2004-02-26_aadhaar_4846519840154
2025-04-16 16:53:41 [DEBUG] token_auth.generate_unique_token:20 - Generated token: EI9RS5CG4I
2025-04-16 16:53:41 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key kappe_2004-02-26_aadhaar_4846519840154: EI9RS5CG4I
2025-04-16 16:53:41 [INFO] w3_utils.store_token_on_blockchain:321 - Storing token on blockchain: EI9RS5CG4I
2025-04-16 16:53:42 [DEBUG] w3_utils.store_token_on_blockchain:353 - Current nonce for account 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: 21
2025-04-16 16:53:42 [DEBUG] w3_utils.store_token_on_blockchain:356 - Building transaction for token: EI9RS5CG4I
2025-04-16 16:53:42 [DEBUG] w3_utils.store_token_on_blockchain:365 - Signing transaction...
2025-04-16 16:53:42 [DEBUG] w3_utils.store_token_on_blockchain:368 - Sending transaction to network...
2025-04-16 16:53:42 [INFO] w3_utils.store_token_on_blockchain:372 - Transaction sent: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:42 [DEBUG] w3_utils.store_token_on_blockchain:376 - Waiting for transaction receipt with timeout: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:57 [WARNING] w3_utils.store_token_on_blockchain:393 - Timeout waiting for receipt, but transaction was sent: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:57 [WARNING] w3_utils.store_token_on_blockchain:394 - Error: Transaction HexBytes('0x8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba') is not in the chain after 15 seconds
2025-04-16 16:53:57 [INFO] w3_utils.store_token_on_blockchain:400 - Transaction hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:57 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token EI9RS5CG4I: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:57 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'EI9RS5CG4I', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/EI9RS5CG4I.json', 'txn_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a20226b617070655f323030342d30322d32365f616164686161725f34383436353139383430313534222c2022696174223a20313734343830323633377d.00add45bf86ff2869d07864f5a3134c7c9abceb85a58a53ae7418cf01d412439', 'timestamp': 1744802637.6009326}
2025-04-16 16:53:57 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: kappe_2004-02-26_aadhaar_4846519840154
2025-04-16 16:53:57 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 16.0983 seconds
2025-04-16 16:53:57 [INFO] w3_utils.upload_to_filebase:175 - Uploading file EI9RS5CG4I.json to storage...
2025-04-16 16:53:59 [INFO] .None:0 - ACCESS: /encrypt | User: kappe | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/EI9RS5CG4I.json
2025-04-16 16:53:59 [DEBUG] app.encrypt:143 - Returning transaction hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:59 [INFO] app.encrypt:152 - Final transaction hash being returned: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:53:59 [DEBUG] app.after_request:35 - Request d3d606c940e6998e processed in 17.6473 seconds
2025-04-16 16:54:16 [DEBUG] app.after_request:35 - Request cebb1936859a712c processed in 0.0001 seconds
2025-04-16 16:54:16 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:54:16 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:54:16 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:54:16 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:54:16 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:54:16 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:54:16 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:54:17 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:54:17 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:54:17 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:54:17 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:54:17 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:54:17 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:54:17 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:54:17 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:54:17 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:54:17 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:54:17 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.6079 seconds
2025-04-16 16:54:17 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:54:17 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:54:17 [DEBUG] app.after_request:35 - Request 8c0672973db45250 processed in 1.6090 seconds
2025-04-16 16:54:57 [DEBUG] app.after_request:35 - Request eb2e24639adef686 processed in 0.0001 seconds
2025-04-16 16:54:57 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:54:57 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:54:57 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:54:57 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:54:58 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:54:58 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:54:58 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:54:58 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:54:58 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:54:58 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:54:58 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:54:58 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:54:59 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:54:59 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:54:59 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:54:59 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:54:59 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:54:59 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.8065 seconds
2025-04-16 16:54:59 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:54:59 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:54:59 [DEBUG] app.after_request:35 - Request aae883febfc93eeb processed in 1.8080 seconds
2025-04-16 16:55:17 [DEBUG] app.after_request:35 - Request b17c121b88474ad9 processed in 0.0001 seconds
2025-04-16 16:55:17 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:55:17 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:55:17 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:55:17 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:55:18 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:55:18 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:55:18 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:55:18 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:55:18 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:55:18 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:55:18 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:55:18 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:55:19 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:55:19 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:55:19 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:55:19 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:55:19 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:55:19 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.9316 seconds
2025-04-16 16:55:19 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:55:19 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:55:19 [DEBUG] app.after_request:35 - Request 31bd7a2f26d595c9 processed in 1.9339 seconds
2025-04-16 16:55:34 [DEBUG] app.after_request:35 - Request 0e689cb613050308 processed in 0.0001 seconds
2025-04-16 16:55:34 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:55:34 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:55:34 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:55:34 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:55:35 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:55:35 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:55:35 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:55:35 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:55:35 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:55:35 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:55:35 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:55:35 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:55:36 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:55:36 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:55:36 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:55:36 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:55:36 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:55:36 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.6926 seconds
2025-04-16 16:55:36 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:55:36 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:55:36 [DEBUG] app.after_request:35 - Request a53d25b996a04d27 processed in 1.6946 seconds
2025-04-16 16:56:04 [DEBUG] app.after_request:35 - Request 2b6d51311b6699f2 processed in 0.0001 seconds
2025-04-16 16:56:04 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:56:04 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:56:04 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:56:04 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:56:05 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:56:05 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:56:05 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:56:05 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:56:05 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:56:05 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:56:05 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:56:05 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:56:06 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:56:06 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:56:06 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:56:06 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:56:06 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:56:06 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.5170 seconds
2025-04-16 16:56:06 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:56:06 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:56:06 [DEBUG] app.after_request:35 - Request d35b91cae7796121 processed in 1.5195 seconds
2025-04-16 16:58:06 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:58:07 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 16:58:07 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 16:58:07 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 16:58:07 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 16:58:09 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 16:58:10 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 16:58:10 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 16:58:10 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 16:58:10 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 16:58:20 [DEBUG] app.after_request:35 - Request e4a62d8d615ed926 processed in 0.0002 seconds
2025-04-16 16:58:20 [INFO] token_auth.verify_token:253 - Verifying token: EI9RS5CG4I
2025-04-16 16:58:20 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: EI9RS5CG4I
2025-04-16 16:58:20 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 16:58:20 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba
2025-04-16 16:58:21 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 16:58:21 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 16:58:21 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130008
2025-04-16 16:58:21 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 16:58:21 [DEBUG] token_auth.verify_token:271 - Blockchain details for token EI9RS5CG4I: {'tx_hash': '8e095f72eb2b2897ba8521b5d7ff27c36216aa007f53f7ec9647303eea3c27ba', 'block_number': 8130008, 'timestamp': 1744802640, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 16:58:21 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: EI9RS5CG4I
2025-04-16 16:58:21 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token EI9RS5CG4I directly on the blockchain
2025-04-16 16:58:21 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: EI9RS5CG4I
2025-04-16 16:58:22 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 16:58:22 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 16:58:22 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 16:58:22 [INFO] w3_utils.call_contract_with_timeout:778 - Token EI9RS5CG4I found in tokens.json (fallback)
2025-04-16 16:58:22 [INFO] w3_utils.verify_token_on_blockchain:792 - Token EI9RS5CG4I is valid
2025-04-16 16:58:22 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.5319 seconds
2025-04-16 16:58:22 [INFO] token_auth.verify_token:357 - Token EI9RS5CG4I is valid
2025-04-16 16:58:22 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: EI9RS5CG4I | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 16:58:22 [DEBUG] app.after_request:35 - Request 93ffef76860b471e processed in 1.5333 seconds
2025-04-16 17:09:16 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:09:17 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:09:17 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:09:17 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:09:17 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:09:18 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:09:18 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:09:18 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:09:19 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:09:19 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:10:11 [DEBUG] app.after_request:35 - Request f9a3d159dd19763d processed in 0.0032 seconds
2025-04-16 17:10:11 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:10:11 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:10:11 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:10:11 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:10:12 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:10:12 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:10:12 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:10:12 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:10:12 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:10:12 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:10:12 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:10:12 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:10:13 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:10:13 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:10:13 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:10:13 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:10:13 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:10:13 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.8907 seconds
2025-04-16 17:10:13 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:10:13 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:10:13 [DEBUG] app.after_request:35 - Request 8e5961c049f4f9e4 processed in 1.9010 seconds
2025-04-16 17:10:17 [DEBUG] app.after_request:35 - Request f977724f5ca7091b processed in 0.0002 seconds
2025-04-16 17:10:17 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:10:17 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:10:17 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:10:17 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:10:18 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:10:18 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:10:18 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:10:18 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:10:18 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:10:18 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:10:18 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:10:18 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:10:19 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:10:19 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:10:19 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:10:19 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:10:19 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:10:19 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.4736 seconds
2025-04-16 17:10:19 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:10:19 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:10:19 [DEBUG] app.after_request:35 - Request 146a91ac4faec461 processed in 1.4752 seconds
2025-04-16 17:10:27 [DEBUG] app.after_request:35 - Request 459b96418aac8671 processed in 0.0001 seconds
2025-04-16 17:10:27 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:10:27 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:10:27 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:10:27 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:10:27 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:10:27 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:10:28 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:10:28 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:10:28 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:10:28 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:10:28 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:10:28 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:10:29 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:10:29 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:10:29 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:10:29 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:10:29 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:10:29 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.8327 seconds
2025-04-16 17:10:29 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:10:29 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:10:29 [DEBUG] app.after_request:35 - Request fc944d3b8ece435c processed in 1.8337 seconds
2025-04-16 17:12:34 [DEBUG] app.after_request:35 - Request 96837df7efc180a6 processed in 0.0001 seconds
2025-04-16 17:12:34 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:12:34 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:12:34 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:12:34 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:12:34 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:12:35 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:12:35 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:12:35 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:12:35 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:12:35 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:12:35 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:12:35 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:12:36 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:12:36 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:12:36 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:12:36 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:12:36 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:12:36 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.6767 seconds
2025-04-16 17:12:36 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:12:36 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:12:36 [DEBUG] app.after_request:35 - Request 3dd2cd088593e7f4 processed in 1.6777 seconds
2025-04-16 17:13:14 [DEBUG] app.after_request:35 - Request ac34a4ac7b4bfd24 processed in 0.0002 seconds
2025-04-16 17:13:14 [DEBUG] token_auth.create_user_key:40 - Created user key: csiahbfihb_2005-03-26_aadhaar_860097240509
2025-04-16 17:13:14 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: csiahbfihb_2005-03-26_aadhaar_860097240509
2025-04-16 17:13:14 [DEBUG] token_auth.generate_unique_token:20 - Generated token: T8HEO0N09G
2025-04-16 17:13:14 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key csiahbfihb_2005-03-26_aadhaar_860097240509: T8HEO0N09G
2025-04-16 17:13:14 [INFO] w3_utils.store_token_on_blockchain:321 - Storing token on blockchain: T8HEO0N09G
2025-04-16 17:13:15 [DEBUG] w3_utils.store_token_on_blockchain:353 - Current nonce for account 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: 24
2025-04-16 17:13:15 [DEBUG] w3_utils.store_token_on_blockchain:356 - Building transaction for token: T8HEO0N09G
2025-04-16 17:13:15 [DEBUG] w3_utils.store_token_on_blockchain:365 - Signing transaction...
2025-04-16 17:13:15 [DEBUG] w3_utils.store_token_on_blockchain:368 - Sending transaction to network...
2025-04-16 17:13:15 [INFO] w3_utils.store_token_on_blockchain:372 - Transaction sent: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:15 [DEBUG] w3_utils.store_token_on_blockchain:376 - Waiting for transaction receipt with timeout: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:24 [INFO] w3_utils.store_token_on_blockchain:378 - Receipt received: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:24 [INFO] w3_utils.store_token_on_blockchain:382 - Transaction successful: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:24 [INFO] w3_utils.store_token_on_blockchain:386 - Transaction hash: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:24 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token T8HEO0N09G: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:24 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'T8HEO0N09G', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/T8HEO0N09G.json', 'txn_hash': '2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a2022637369616862666968625f323030352d30332d32365f616164686161725f383630303937323430353039222c2022696174223a20313734343830333830347d.0628956388abf125fff46851eec29af5bc79cdb6ba3ebc22070560904746afb1', 'timestamp': 1744803804.0275369}
2025-04-16 17:13:24 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: csiahbfihb_2005-03-26_aadhaar_860097240509
2025-04-16 17:13:24 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 9.2272 seconds
2025-04-16 17:13:24 [INFO] w3_utils.upload_to_filebase:175 - Uploading file T8HEO0N09G.json to storage...
2025-04-16 17:13:25 [INFO] .None:0 - ACCESS: /encrypt | User: csiahbfihb | Token: T8HEO0N09G | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/T8HEO0N09G.json
2025-04-16 17:13:25 [DEBUG] app.encrypt:143 - Returning transaction hash: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:25 [INFO] app.encrypt:152 - Final transaction hash being returned: 2e6e7cb0d4cbb07f5b555e407f528581d7380c7b1e76fbf82a7118acb24c6dea
2025-04-16 17:13:25 [DEBUG] app.after_request:35 - Request 1d4de24dc49020df processed in 10.5924 seconds
2025-04-16 17:13:50 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:13:51 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:13:51 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:13:51 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:13:51 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:13:52 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:13:53 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:13:53 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:13:53 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:13:53 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:14:00 [DEBUG] app.after_request:35 - Request 8db27329a703fe1b processed in 0.0001 seconds
2025-04-16 17:14:00 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:14:00 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:14:00 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:14:00 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:14:00 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:14:00 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:14:00 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:14:01 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:14:01 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:14:01 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:14:01 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:14:01 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:14:01 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:14:01 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:14:01 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:14:01 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:14:01 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:14:01 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.5871 seconds
2025-04-16 17:14:01 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:14:01 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:14:01 [DEBUG] app.after_request:35 - Request 3c5b1aa74a305951 processed in 1.5891 seconds
2025-04-16 17:16:58 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:16:59 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:16:59 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:16:59 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:16:59 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:17:01 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:17:01 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:17:01 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:17:01 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:17:01 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:17:17 [DEBUG] app.after_request:35 - Request b945f41f75b4f8a5 processed in 0.0002 seconds
2025-04-16 17:17:17 [INFO] token_auth.verify_token:253 - Verifying token: BWM7YWS0CH
2025-04-16 17:17:17 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: BWM7YWS0CH
2025-04-16 17:17:17 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:17:17 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6
2025-04-16 17:17:18 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:17:18 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:17:18 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8129950
2025-04-16 17:17:18 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:17:18 [DEBUG] token_auth.verify_token:271 - Blockchain details for token BWM7YWS0CH: {'tx_hash': '0b23eac53747d2d7b39334189e23888b2dc3c42fe3dc8c09190e98eb96eec4d6', 'block_number': 8129950, 'timestamp': 1744801932, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:17:18 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: BWM7YWS0CH
2025-04-16 17:17:18 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token BWM7YWS0CH directly on the blockchain
2025-04-16 17:17:18 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: BWM7YWS0CH
2025-04-16 17:17:19 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:17:19 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:17:19 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:17:19 [INFO] w3_utils.call_contract_with_timeout:778 - Token BWM7YWS0CH found in tokens.json (fallback)
2025-04-16 17:17:19 [INFO] w3_utils.verify_token_on_blockchain:792 - Token BWM7YWS0CH is valid
2025-04-16 17:17:19 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.5901 seconds
2025-04-16 17:17:19 [INFO] token_auth.verify_token:357 - Token BWM7YWS0CH is valid
2025-04-16 17:17:19 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: BWM7YWS0CH | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:17:19 [DEBUG] app.after_request:35 - Request 666d4edf2bbafa32 processed in 1.5919 seconds
2025-04-16 17:46:13 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:46:14 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:46:14 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:46:14 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:47:30 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:47:30 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:47:30 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:47:31 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:47:32 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:47:37 [INFO] w3_utils.<module>:32 - Connecting to Ethereum network via Alchemy...
2025-04-16 17:47:37 [INFO] w3_utils.<module>:63 - Loading contract ABI...
2025-04-16 17:47:37 [INFO] w3_utils.<module>:95 - Initializing contract...
2025-04-16 17:47:38 [INFO] w3_utils.<module>:144 - Initializing Filebase S3 client...
2025-04-16 17:47:38 [INFO] app.<module>:448 - Starting PII Authenticator backend server
2025-04-16 17:48:20 [DEBUG] app.after_request:35 - Request 4be870586ce78473 processed in 0.0004 seconds
2025-04-16 17:48:20 [DEBUG] token_auth.create_user_key:40 - Created user key: prajwal_2005-02-26_aadhaar_860097240509
2025-04-16 17:48:20 [INFO] token_auth.get_or_generate_token:56 - Checking/generating token for user key: prajwal_2005-02-26_aadhaar_860097240509
2025-04-16 17:48:20 [DEBUG] token_auth.generate_unique_token:20 - Generated token: WR4LVCPN83
2025-04-16 17:48:20 [DEBUG] token_auth.get_or_generate_token:94 - Generated new token for user key prajwal_2005-02-26_aadhaar_860097240509: WR4LVCPN83
2025-04-16 17:48:20 [INFO] w3_utils.store_token_on_blockchain:321 - Storing token on blockchain: WR4LVCPN83
2025-04-16 17:48:21 [DEBUG] w3_utils.store_token_on_blockchain:353 - Current nonce for account 0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7: 27
2025-04-16 17:48:21 [DEBUG] w3_utils.store_token_on_blockchain:356 - Building transaction for token: WR4LVCPN83
2025-04-16 17:48:21 [DEBUG] w3_utils.store_token_on_blockchain:365 - Signing transaction...
2025-04-16 17:48:21 [DEBUG] w3_utils.store_token_on_blockchain:368 - Sending transaction to network...
2025-04-16 17:48:21 [INFO] w3_utils.store_token_on_blockchain:372 - Transaction sent: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:21 [DEBUG] w3_utils.store_token_on_blockchain:376 - Waiting for transaction receipt with timeout: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:24 [INFO] w3_utils.store_token_on_blockchain:378 - Receipt received: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:24 [INFO] w3_utils.store_token_on_blockchain:382 - Transaction successful: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:24 [INFO] w3_utils.store_token_on_blockchain:386 - Transaction hash: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:24 [DEBUG] token_auth.get_or_generate_token:105 - Transaction hash for token WR4LVCPN83: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:24 [DEBUG] token_auth.save_token_to_file:201 - Saving token data: {'token': 'WR4LVCPN83', 'file_url': 'https://s3.filebase.com/pii-authenticator-test/WR4LVCPN83.json', 'txn_hash': '0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209', 'jwt': '7b22616c67223a20224853323536222c2022747970223a20224a5754227d.7b22737562223a20227072616a77616c5f323030352d30322d32365f616164686161725f383630303937323430353039222c2022696174223a20313734343830353930347d.a97034dc8c94bb82dfbc0d61dcb9ad8f757afc31493aeabd92c0c101ce6174ec', 'timestamp': 1744805904.1066546}
2025-04-16 17:48:24 [INFO] token_auth.save_token_to_file:207 - Token data saved to tokens.json for user key: prajwal_2005-02-26_aadhaar_860097240509
2025-04-16 17:48:24 [DEBUG] token_auth.get_or_generate_token:115 - Token generation completed in 3.2393 seconds
2025-04-16 17:48:24 [INFO] w3_utils.upload_to_filebase:175 - Uploading file WR4LVCPN83.json to storage...
2025-04-16 17:48:26 [INFO] .None:0 - ACCESS: /encrypt | User: prajwal_ | Token: WR4LVCPN83 | IP: 127.0.0.1 | Status: success | Details: Token generated and data stored at https://s3.filebase.com/pii-authenticator-test/WR4LVCPN83.json
2025-04-16 17:48:26 [DEBUG] app.encrypt:143 - Returning transaction hash: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:26 [INFO] app.encrypt:152 - Final transaction hash being returned: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:26 [DEBUG] app.after_request:35 - Request 126b517b90f5cc75 processed in 5.3880 seconds
2025-04-16 17:48:39 [DEBUG] app.after_request:35 - Request efcdf6ecfd9ab810 processed in 0.0561 seconds
2025-04-16 17:48:39 [INFO] token_auth.verify_token:253 - Verifying token: WR4LVCPN83
2025-04-16 17:48:40 [DEBUG] token_auth.log_verification_attempt:393 - Verification attempt logged for token: WR4LVCPN83
2025-04-16 17:48:40 [DEBUG] token_auth.verify_token:267 - Token exists in database: True
2025-04-16 17:48:40 [DEBUG] w3_utils.get_token_transaction_details:611 - Attempting to get transaction details for hash: 0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209
2025-04-16 17:48:40 [DEBUG] w3_utils.get_token_transaction_details:637 - Calling web3.eth.get_transaction...
2025-04-16 17:48:40 [DEBUG] w3_utils.get_token_transaction_details:658 - Getting transaction receipt...
2025-04-16 17:48:40 [DEBUG] w3_utils.get_token_transaction_details:661 - Getting block details for block number: 8130275
2025-04-16 17:48:40 [DEBUG] w3_utils.get_token_transaction_details:664 - Successfully retrieved all transaction details
2025-04-16 17:48:40 [DEBUG] token_auth.verify_token:271 - Blockchain details for token WR4LVCPN83: {'tx_hash': '0b9dc2463bb965b01e4e349d10ba62a41497955893cb3f8ecbe0770fbd803209', 'block_number': 8130275, 'timestamp': 1744805904, 'from': '0xf9F804c189aF673469BF9118dD5eBa3e1CFE51a7', 'to': '0x13591389EE06948758541b38547a37FB9483F2f4', 'status': 'success', 'network': 'Sepolia Testnet'}
2025-04-16 17:48:40 [INFO] w3_utils.verify_token_on_blockchain:717 - Verifying token on blockchain: WR4LVCPN83
2025-04-16 17:48:40 [INFO] w3_utils.verify_token_on_blockchain:737 - Verifying token WR4LVCPN83 directly on the blockchain
2025-04-16 17:48:40 [INFO] w3_utils.call_contract_with_timeout:746 - Calling verifyToken function on smart contract for token: WR4LVCPN83
2025-04-16 17:48:41 [ERROR] w3_utils.call_contract_with_timeout:758 - Error in blockchain verification: Could not transact with/call contract function, is contract deployed correctly and chain synced?
2025-04-16 17:48:41 [DEBUG] w3_utils.call_contract_with_timeout:759 - Traceback (most recent call last):
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 207, in call_contract_function
    output_data = w3.codec.decode(output_types, return_data)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\codec.py", line 162, in decode
    return cast(Tuple[Any, ...], decoder(stream))
                                 ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_utils\functional.py", line 47, in inner
    return callback(fn(*args, **kwargs))
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 224, in decode
    self.validate_pointers(stream)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 218, in validate_pointers
    decoder(stream)
    ~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 131, in __call__
    return self.decode(stream)
           ~~~~~~~~~~~^^^^^^^^
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 250, in decode
    raw_data = self.read_data_from_stream(stream)
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\eth_abi\decoding.py", line 389, in read_data_from_stream
    raise InsufficientDataBytes(
    ...<2 lines>...
    )
eth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes, only got 0 bytes.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "P:\blockchain-id-authentication\PII-Authenticator\backend\w3_utils.py", line 749, in call_contract_with_timeout
    result = contract.functions.verifyToken(user_token).call()
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\contract.py", line 291, in call
    return call_contract_function(
        self.w3,
    ...<11 lines>...
        **self.kwargs or {},
    )
  File "C:\Users\prajw\AppData\Local\Programs\Python\Python313\Lib\site-packages\web3\contract\utils.py", line 225, in call_contract_function
    raise BadFunctionCallOutput(msg) from e
web3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?

2025-04-16 17:48:41 [WARNING] w3_utils.call_contract_with_timeout:762 - Falling back to local verification due to blockchain error
2025-04-16 17:48:41 [INFO] w3_utils.call_contract_with_timeout:778 - Token WR4LVCPN83 found in tokens.json (fallback)
2025-04-16 17:48:41 [INFO] w3_utils.verify_token_on_blockchain:792 - Token WR4LVCPN83 is valid
2025-04-16 17:48:41 [DEBUG] token_auth.verify_token:354 - Token verification completed in 1.7654 seconds
2025-04-16 17:48:41 [INFO] token_auth.verify_token:357 - Token WR4LVCPN83 is valid
2025-04-16 17:48:41 [INFO] .None:0 - ACCESS: /validate_token | User: N/A | Token: WR4LVCPN83 | IP: 127.0.0.1 | Status: success | Details: Token validation successful
2025-04-16 17:48:41 [DEBUG] app.after_request:35 - Request c4b8c7d2675412ca processed in 1.7879 seconds
